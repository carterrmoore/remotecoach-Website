(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([[6],{"./src/main/webapp/frontend/packages/enums/LicensedAssetSource.js":function(e,r){var t={GETTY:1,UNSPLASH:2};e.exports=t},"./src/main/webapp/universal/src/apps/App/shared/actions/PurchasedImageActions.js":function(e,r,t){"use strict";var a=t("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var s=a(t("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=a(t("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=t("./src/main/webapp/frontend/packages/enums/BillingProductTypes.js");var o=t("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts");var u=t("./src/main/webapp/universal/src/apps/App/shared/utils/PurchasedImageAPI.js");var c=t("./src/main/webapp/universal/src/shared/utils/billing/Stripe.js");var l=t("./src/main/webapp/universal/src/shared/utils/ApiUtils.js");var p=t("./src/main/webapp/universal/src/shared/utils/error-reporter/global-sentry.ts"),d=p.withScope,m=p.captureException;var f=461;var v=function(){function e(){(0,s.default)(this,e);this.generateActions("fetchComplete","fetchFailed")}(0,n.default)(e,[{key:"getDownloadUrl",value:function e(t){return u.getDownloadUrl(t).catch(function(e){var r=new l("Could not get download URL for licensed asset",e);r.licensedAsset=t;d(function(e){e.setTag("project","universal-checkout");e.setTag("product-area",i.GETTY_IMAGE);m(r)});throw r})}},{key:"purchaseAsset",value:function e(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var a;return u.buy(r,t).then(function(e){var r=e.data;a=r.id;return u.getDownloadUrl(r)}).then(function(e){var r=e.data;return Promise.resolve({url:r.url,licensedAssetId:a})}).catch(function(e){var t=e.response;if(t.status!==f){m(t);throw t}return c.get().then(function(e){return e.handleCardAction(t.response.data.clientSecret).then(function(e){var r=e.error;if(r){m(t);throw t}return u.confirm(t.response.data.id).then(function(e){var r=e.data;a=r.id;return u.getDownloadUrl(r)}).then(function(e){var r=e.data;return Promise.resolve({url:r.url,licensedAssetId:a})}).catch(function(e){m(e);throw e})})})})}},{key:"fetch",value:function e(){var t=this;return function(e){e();return u.getAll().then(function(e){var r=e.data;t.fetchComplete(r)}).catch(function(e){false;t.fetchFailed()})}}}]);return e}();e.exports=o.createActions(v)},"./src/main/webapp/universal/src/apps/App/shared/components/AssetPicker/index.js":function(e,r,a){"use strict";var t=a("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(r,"__esModule",{value:true});r.default=void 0;var i=t(a("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var s=t(a("./common/temp/node_modules/@babel/runtime/regenerator/index.js"));var n=t(a("./common/temp/node_modules/@babel/runtime/helpers/asyncToGenerator.js"));var o=t(a("./common/temp/node_modules/react/index.js"));var u=function(){var r=(0,n.default)(s.default.mark(function e(){var t;return s.default.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return Promise.all([a.e(7),a.e(50),a.e("async-asset-picker-modal")]).then(a.t.bind(null,"./src/main/webapp/universal/src/apps/App/shared/components/AssetPicker/AssetPicker.js",7));case 2:t=r.sent;return r.abrupt("return",t);case 4:case"end":return r.stop()}},e)}));return function e(){return r.apply(this,arguments)}}();var c=function e(r){var t=o.default.useState(null),a=(0,i.default)(t,2),s=a[0],n=a[1];if(!s){u().then(function(e){return n(e)});return o.default.createElement(o.default.Fragment,null)}return o.default.createElement(s.default,r)};r.default=c;e.exports=r.default},"./src/main/webapp/universal/src/apps/App/shared/components/AssetPicker/utils/useAssetPickerOpenState.js":function(e,r,t){"use strict";var a=t("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var s=t("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(r,"__esModule",{value:true});r.withAssetPickerOpenState=c;r.default=void 0;var i=s(t("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var n=s(t("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var o=a(t("./common/temp/node_modules/react/index.js"));var u=function e(){var r=(0,o.useState)(false),t=(0,n.default)(r,2),a=t[0],s=t[1];return{isPickerOpen:a,onClosePicker:function e(){return s(false)},onOpenPicker:function e(){return s(true)}}};function c(n){return function(e){var r=u(),t=r.isPickerOpen,a=r.onClosePicker,s=r.onOpenPicker;return o.default.createElement(n,(0,i.default)({isPickerOpen:t,onClosePicker:a,onOpenPicker:s},e))}}var l=u;r.default=l},"./src/main/webapp/universal/src/apps/App/shared/components/LicenseImage/LicenseImage.js":function(e,r,t){"use strict";var a=t("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var s=t("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(r,"__esModule",{value:true});r.default=void 0;var n=s(t("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=s(t("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var o=s(t("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=s(t("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var c=s(t("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var l=s(t("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var d=s(t("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));t("./src/main/webapp/universal/src/shared/i18n/configurations/universal-checkout.js");var p=s(t("./common/temp/node_modules/react/index.js"));var m=s(t("./common/temp/node_modules/prop-types/index.js"));var f=s(t("./src/main/webapp/frontend/packages/enums/BillingProductTypes.js"));var v=s(t("./src/main/webapp/frontend/packages/enums/PaymentMethodType.js"));var h=t("./common/temp/node_modules/@sqs/universal-checkout/lib/index.js");var b=a(t("./src/main/webapp/frontend/packages/knowledge-base-links/lib/index.js"));var g=t("./src/main/webapp/universal/src/shared/i18n/index.ts");var y=t("./src/main/webapp/universal/src/shared/i18n/react.ts");var A=t("./src/main/webapp/universal/src/shared/utils/error-reporter/global-sentry.ts");var w=s(t("./src/main/webapp/universal/src/apps/App/shared/components/checkout/UniversalCheckoutProductPurchase.js"));var j=s(t("./src/main/webapp/universal/src/apps/App/shared/components/LicenseImage/actions/PurchasePreviewActions.js"));var P=s(t("./src/main/webapp/universal/src/apps/App/shared/actions/PurchasedImageActions.js"));var C=s(t("./src/main/webapp/universal/src/apps/App/shared/actions/billing/AcceptedCurrenciesActions.js"));var I=s(t("./src/main/webapp/universal/src/apps/App/shared/components/LicenseImage/utils/createCartItem.js"));var T=t("./src/main/webapp/universal/src/apps/App/shared/components/LicenseImage/utils/licenseImageErrors.js");var _=s(t("./src/main/webapp/universal/src/apps/App/shared/constants/BillingMaintenanceStrings.ts"));var E=s(t("./src/main/webapp/universal/src/shared/components/AlertRosetta.js"));function O(s){var n=k();return function e(){var r=(0,l.default)(s),t;if(n){var a=(0,l.default)(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return(0,c.default)(this,t)}}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var S=function(e){(0,u.default)(a,e);var t=O(a);function a(e){var r;(0,n.default)(this,a);r=t.call(this,e);r.onPurchaseComplete=r.onPurchaseComplete.bind((0,o.default)(r));r.onCloseModal=r.onCloseModal.bind((0,o.default)(r));r.onCurrencyChange=r.onCurrencyChange.bind((0,o.default)(r));r.onDismissError=r.onDismissError.bind((0,o.default)(r));r.state={error:null};return r}(0,i.default)(a,[{key:"componentDidMount",value:function e(){j.default.getGettyPriceWithTax.defer()}},{key:"componentDidCatch",value:function e(r){(0,A.withScope)(function(e){e.setTag("project","universal-checkout");e.setTag("uc-product-area",f.default.GETTY_IMAGE);(0,A.captureException)(r)})}},{key:"onCurrencyChange",value:function e(r,t){var a=this.props.assetPreview;j.default.preview(a,r);t((0,d.default)({},f.default.GETTY_IMAGE,{currencyCode:r}))}},{key:"onPurchaseComplete",value:function e(r){var t=r.purchaseData;var a=this.props.assetPreview;C.default.load();P.default.fetch();var s=P.default.getDownloadUrl(t);this.setState((0,d.default)({},a.assetId,{licensedAssetId:t.id,downloadUrlPromise:s}))}},{key:"onCloseModal",value:function e(r){var t=this;var a=r.purchaseCompleted;var s=this.props,n=s.assetPreview,i=s.onRequestClose,o=s.onPurchaseSuccess;if(!a){i();return}var u=n.assetId;var c=this.state[u],l=c.licensedAssetId,p=c.downloadUrlPromise;p.then(function(e){var r=e.data;o({url:r.url,licensedAssetId:l})}).catch(function(e){t.setState({error:T.ADD_IMAGE_ERROR});i()});this.setState((0,d.default)({},u,null))}},{key:"renderTrialAlert",value:function e(){var r=this.props,t=r.isTrialSite,a=r.isOpen;return p.default.createElement(E.default,{testAttr:"license-image-trial-alert",isOpen:t&&a,title:(0,g.t)("Trial Account"),message:(0,g.t)("To purchase images, you must have a paid Squarespace account. Please upgrade your site via the Billing area."),onDismiss:this.onCloseModal})}},{key:"renderBillingMaintenanceAlert",value:function e(){var r=this.props,t=r.billingChangesDisabled,a=r.isTrialSite,s=r.isOpen;return p.default.createElement(E.default,{testAttr:"license-image-billing-maintenance-alert",isOpen:!a&&t&&s,title:_.default.title,message:_.default.description,onDismiss:this.onCloseModal,zIndex:39e3})}},{key:"renderIsBlockedByAsyncAlert",value:function e(){var r=this.props,t=r.isBlockedByAsync,a=r.isOpen;var s=p.default.createElement("a",{href:b.CONTACT_CUSTOMER_CARE,target:"_blank",rel:"noopener noreferrer"},p.default.createElement(y.T,{project:"universal-checkout"},"contact Customer Support"));var n=p.default.createElement(y.T,{project:"universal-checkout",customerSupportLink:s,"data-test":"async-warning"},"To purchase Getty images, {customerSupportLink} and switch your payment method from SEPA to a credit card.");return p.default.createElement(E.default,{testAttr:"license-image-async-alert",isOpen:t&&a,title:(0,g.t)("Switch payment method"),message:n,onDismiss:this.onCloseModal})}},{key:"renderErrorAlert",value:function e(){var r=this.state.error;return p.default.createElement(E.default,{testAttr:"license-image-error-alert",isOpen:!!r,title:null===r||void 0===r?void 0:r.title,message:null===r||void 0===r?void 0:r.message,onDismiss:this.onDismissError})}},{key:"onDismissError",value:function e(){this.setState({error:null})}},{key:"render",value:function e(){var r=this.props,t=r.isTrialSite,a=r.isOpen,s=r.assetPreview,n=r.previewUrl,i=r.currency,o=r.billingChangesDisabled,u=r.isBlockedByAsync,c=r.isCustomerLoaded;if(!s||!n)return null;return p.default.createElement(p.default.Fragment,null,this.renderErrorAlert(),this.renderTrialAlert(),this.renderBillingMaintenanceAlert(),this.renderIsBlockedByAsyncAlert(),!t&&!o&&!u&&c&&p.default.createElement(w.default,{productToPurchase:f.default.GETTY_IMAGE,checkoutType:h.CheckoutTypes.NEW_PURCHASE,isOpen:a,initUCProps:{initCart:(0,d.default)({},f.default.GETTY_IMAGE,(0,I.default)(s,n,i)),onPurchaseComplete:this.onPurchaseComplete,handleOnRequestClose:this.onCloseModal,handleCurrencyCodeChange:this.onCurrencyChange},currency:i,zIndex:39e3,restrictedPaymentMethods:[v.default.SEPA_DEBIT]}))}}],[{key:"getDerivedStateFromError",value:function e(){return{error:T.GENERIC_ERROR}}}]);return a}(p.default.Component);(0,d.default)(S,"propTypes",{isOpen:m.default.bool,assetPreview:m.default.object,previewUrl:m.default.string,onPurchaseSuccess:m.default.func.isRequired,onRequestClose:m.default.func.isRequired,currency:m.default.string,isTrialSite:m.default.bool,billingChangesDisabled:m.default.bool.isRequired,isBlockedByAsync:m.default.bool});(0,d.default)(S,"defaultProps",{isOpen:false});var R=S;r.default=R;e.exports=r.default},"./src/main/webapp/universal/src/apps/App/shared/components/LicenseImage/actions/PurchasePreviewActions.js":function(e,r,t){"use strict";var a=t("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(r,"__esModule",{value:true});r.default=void 0;var s=a(t("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=a(t("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=a(t("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts"));var o=t("./src/main/webapp/universal/src/apps/App/shared/utils/PurchasedImageAPI.js");var u=t("./src/main/webapp/frontend/packages/enums/LicensedAssetSource.js");var c=function(){function e(){(0,s.default)(this,e);this.generateActions("previewSuccess","previewFail","getGettyPriceWithTaxSuccess","getGettyPriceWithTaxFail")}(0,n.default)(e,[{key:"preview",value:function e(t){var a=this;var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(e){e();var r=(0,o.previewPurchase)(t,s);r.then(a.previewSuccess,function(e){console.error("Error previewing",e);a.previewFail()});return r}}},{key:"getGettyPriceWithTax",value:function e(){var t=this;var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){e();var r=(0,o.getPriceWithTax)(u.GETTY,a);r.then(t.getGettyPriceWithTaxSuccess,function(e){console.error("Error getting price with tax",e);t.getGettyPriceWithTaxFail()});return r}}}]);return e}();var l=i.default.createActions(c);r.default=l;e.exports=r.default},"./src/main/webapp/universal/src/apps/App/shared/components/LicenseImage/index.js":function(e,r,t){"use strict";var a=t("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(r,"__esModule",{value:true});r.default=void 0;var s=a(t("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var d=a(t("./src/main/webapp/universal/src/apps/App/shared/components/LicenseImage/stores/PurchasePreviewStore.js"));var m=a(t("./src/main/webapp/universal/src/apps/App/shared/stores/BillingStatusStore.js"));var n=a(t("./src/main/webapp/universal/src/apps/App/shared/actions/billing/BillingMaintenanceActions.ts"));var f=a(t("./src/main/webapp/universal/src/apps/App/shared/stores/billing/BillingMaintenanceStore.ts"));var i=a(t("./src/main/webapp/universal/src/shared/actions/billing/CustomerActions.js"));var v=a(t("./src/main/webapp/universal/src/shared/stores/billing/CustomerStore.js"));var h=t("./src/main/webapp/universal/src/apps/App/screens/Settings/screens/Billing/shared/utils/isAsyncCustomer.js");var o=a(t("./src/main/webapp/universal/src/apps/App/shared/components/LicenseImage/LicenseImage.js"));var u=(0,s.default)({getStores:function e(){return[d.default,m.default,f.default,v.default]},getPropsFromStores:function e(){var r;var t=d.default.getState(),a=t.invoice;var s=v.default.getState(),n=s.customer,i=s.loaded;var o=m.default.isTrial();var u=f.default.getState().billingChangesDisabled;var c=null===a||void 0===a?void 0:null===(r=a.total)||void 0===r?void 0:r.currencyCode;if(!c){var l=d.default.getState(),p=l.gettyPriceWithTax;c=null===p||void 0===p?void 0:p.currencyCode}return{currency:c||"USD",isTrialSite:o,billingChangesDisabled:u,isBlockedByAsync:(0,h.isAsyncCustomer)(n),isCustomerLoaded:i}},componentDidConnect:function e(){var r=v.default.getState(),t=r.customer;t||i.default.load.defer();n.default.loadMaintenanceStatus.defer()}},o.default);r.default=u;e.exports=r.default},"./src/main/webapp/universal/src/apps/App/shared/components/LicenseImage/stores/PurchasePreviewStore.js":function(e,r,t){"use strict";var a=t("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(r,"__esModule",{value:true});r.default=void 0;var s=a(t("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var n=a(t("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=a(t("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts"));var o=a(t("./src/main/webapp/universal/src/apps/App/shared/components/LicenseImage/actions/PurchasePreviewActions.js"));var u=function(){function e(){(0,s.default)(this,e);this.bindActions(o.default);this.state={isLoading:false,invoice:null,isGettyPriceWithTaxLoading:false,gettyPriceWithTax:null}}(0,n.default)(e,[{key:"onPreview",value:function e(){this.setState({isLoading:true})}},{key:"onPreviewSuccess",value:function e(r){var t=r.invoice;this.setState({isLoading:false,invoice:t})}},{key:"onPreviewFail",value:function e(){this.setState({isLoading:false})}},{key:"onGetGettyPriceWithTax",value:function e(){this.setState({isPriceForSourceWithTaxLoading:true})}},{key:"onGetGettyPriceWithTaxSuccess",value:function e(r){this.setState({isGettyPriceWithTaxLoading:false,gettyPriceWithTax:r})}},{key:"onGetGettyPriceWithTaxFail",value:function e(){this.setState({isGettyPriceWithTaxLoading:false})}}]);return e}();var c=i.default.createStore(u,"PurchasePreviewStore");r.default=c;e.exports=r.default},"./src/main/webapp/universal/src/apps/App/shared/components/LicenseImage/utils/createCartItem.js":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.default=void 0;var a=function e(r,t,a){var s=r.assetId,n=r.title,i=r.artist,o=r.collectionId,u=r.collectionName;return{id:s,title:n,artist:i,collectionId:o,collectionName:u,productImageUrl:t,currencyCode:a}};r.default=a;e.exports=r.default},"./src/main/webapp/universal/src/apps/App/shared/components/LicenseImage/utils/licenseImageErrors.js":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.GENERIC_ERROR=r.ADD_IMAGE_ERROR=void 0;var a=t("./src/main/webapp/universal/src/shared/i18n/index.ts");var s={title:(0,a.t)("Couldn‘t Add Image"),message:(0,a.t)("We‘re having trouble adding your image right now. Go to Image Search, then the Imported tab to add your image.")};r.ADD_IMAGE_ERROR=s;var n={title:(0,a.t)("Something Happened"),message:(0,a.t)("There was an error while licensing the image.")};r.GENERIC_ERROR=n},"./src/main/webapp/universal/src/apps/App/shared/components/checkout/UniversalCheckoutProductPurchase.js":function(e,r,t){"use strict";var a=t("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(r,"__esModule",{value:true});r.default=void 0;var y=a(t("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var A=a(t("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));var s=a(t("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));t("./src/main/webapp/universal/src/shared/i18n/configurations/universal-checkout.js");var w=a(t("./common/temp/node_modules/react/index.js"));var j=t("./common/temp/node_modules/@sqs/universal-checkout/lib/index.js");var P=a(t("./src/main/webapp/universal/src/apps/App/shared/utils/checkout/getUniversalCheckoutPropsByProduct.ts"));var C=t("./src/main/webapp/universal/src/apps/App/screens/Checkout/shared/utils/getUCFeatures.js");var I=t("./src/main/webapp/universal/src/shared/utils/UniversalCheckout.js");var T=t("./src/main/webapp/universal/src/apps/App/shared/utils/billing/PurchasePermissionsByProduct.js");var _=t("./src/main/webapp/universal/src/apps/App/shared/constants/checkout/WarningModalParams.js");var E=t("./src/main/webapp/universal/src/shared/i18n/eventsData.ts");var O=t("./src/main/webapp/universal/src/shared/utils/EnvUtils.ts");var k=a(t("./src/main/webapp/universal/src/shared/components/checkout/MissingEnvironmentAlert.jsx"));var S=a(t("./src/main/webapp/universal/src/apps/App/shared/components/checkout/WarningModal.jsx"));function n(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}));t.push.apply(t,a)}return t}function R(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?n(Object(t),true).forEach(function(e){(0,s.default)(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}var i=function e(r){var t=r.productToPurchase,a=r.checkoutType,s=r.productCheckoutVariant,n=r.isOpen,i=r.zIndex,o=r.restrictedPaymentMethods,u=r.currency,c=r.initUCProps,l=void 0===c?{}:c;var p=(0,O.getEnv)();var d=(0,P.default)(R({productToPurchase:t,checkoutType:a,productCheckoutVariant:s},l));if(!d)return null;if(!p)return w.default.createElement(k.default,null);var m=function e(){l.handleOnRequestClose()};var f=d.handleCurrencyCodeChange,v=d.handleOnRequestClose,h=d.initCart,b=(0,A.default)(d,["handleCurrencyCodeChange","handleOnRequestClose","initCart"]);var g=_.WarningModalProps[_.WarningModalTypes.NON_ADMIN];return(0,T.getAdminPermissionsByProduct)(t)?w.default.createElement(j.UniversalCheckout,(0,y.default)({isOpen:n,abTestExperimentList:(0,I.getUniversalCheckoutExperimentList)(),checkoutType:a,features:(0,C.getUCFeatures)({checkoutType:a}),isProd:"PRODUCTION"===p,locale:E.memberAccountLocale,websiteLocale:E.websiteLocale,onRequestClose:v,onCurrencyChange:f,initCart:h,currencyCode:u,zIndex:i,restrictedPaymentMethods:o},b)):w.default.createElement(S.default,(0,y.default)({isOpen:!!n,closeModal:m,type:_.WarningModalTypes.NON_ADMIN,testAttr:"".concat(_.WarningModalTypes.NON_ADMIN,"-warning-modal"),baseZIndex:i},g))};var o=i;r.default=o;e.exports=r.default},"./src/main/webapp/universal/src/apps/App/shared/constants/AssetReferenceType.ts":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.default=void 0;var a;(function(e){e["GALLERY_IMAGE"]="GALLERY_IMAGE";e["TRANSIENT_IMAGE"]="TRANSIENT_IMAGE";e["COLLECTION_IMAGE"]="COLLECTION_IMAGE";e["TWEAK_BACKGROUND_IMAGE"]="TWEAK_BACKGROUND_IMAGE"})(a=a||{});var s=a;r.default=s;e.exports=r.default},"./src/main/webapp/universal/src/apps/App/shared/utils/PurchasedImageAPI.js":function(e,r,t){"use strict";var s=t("./common/temp/node_modules/@sqs/network/lib/index.js").default;var n="/api/licensed-assets";var i=t("./common/temp/node_modules/@sqs/i18n-ui/lib/money/index.js");var a=t("./src/main/webapp/frontend/packages/enums/LicensedAssetSource.js");var o=t("./src/main/webapp/universal/src/shared/utils/SerializationUtils.js"),u=o.deserializer;var c=t("./src/main/webapp/universal/src/shared/utils/billing/deserializeInvoice.js");var l=u(c,"invoice");var p={getAll:function e(){return s.get(n)},getAllWithThumbnails:function e(){return s.get(n+"/thumbnails")},buy:function e(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return s.post(n,r,{params:{currency:t}})},license:function e(r){return s.post(n,{assetId:r,source:a.UNSPLASH})},confirm:function e(r){return s.post(n+"/"+r+"/confirm")},getDownloadUrl:function e(r){var t=r.id;return s.get(n+"/"+t+"/download-url")},previewPurchase:function e(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return s.post(n+"/purchase-preview",r,{params:{currency:t}}).then(function(e){return l(e.data)})},getPriceWithTax:function e(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var a=null===t?"":"&currency="+t;return s.get(n+"/price-with-tax?source="+r+a).then(function(e){return i.fromJson(e.data)})}};e.exports=p},"./src/main/webapp/universal/src/apps/App/shared/utils/createContentItemFromAsset.js":function(e,r,t){"use strict";var a=t("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(r,"__esModule",{value:true});r.default=void 0;var s=a(t("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var l=a(t("./src/main/webapp/frontend/packages/enums/RecordType.js"));var p=a(t("./src/main/webapp/universal/src/apps/App/shared/utils/getAssetReferenceUrl.ts"));var d=a(t("./src/main/webapp/universal/src/apps/App/shared/utils/ContentItemAPI.js"));var m=a(t("./src/main/webapp/universal/src/apps/App/shared/stores/WebsiteStore/index.js"));var f=a(t("./src/main/webapp/universal/src/apps/App/shared/constants/AssetReferenceType.ts"));function n(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}));t.push.apply(t,a)}return t}function v(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?n(Object(t),true).forEach(function(e){(0,s.default)(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}var i=function e(r,t,a,s){var n=(0,p.default)(r,{collectionId:a});var i=m.default.getState().id;var o=a?{collectionId:a}:{};var u=s?{replaceItemId:s}:{};var c=r!==f.default.TWEAK_BACKGROUND_IMAGE?l.default.IMAGE:l.default.TWEAKASSET;return d.default.createAssetReference(n,v({assetId:t,libraryId:i,recordType:c},o,{},u)).then(function(e){var r=e.data;return r.media[0]})};r.default=i;e.exports=r.default},"./src/main/webapp/universal/src/apps/App/shared/utils/getAssetReferenceUrl.ts":function(e,r,t){"use strict";var a=t("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(r,"__esModule",{value:true});r.default=c;Object.defineProperty(r,"AssetReferenceType",{enumerable:true,get:function e(){return i.default}});var s=a(t("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var n=a(t("./src/main/webapp/universal/src/shared/utils/formatting/substituteString.js"));var i=a(t("./src/main/webapp/universal/src/apps/App/shared/constants/AssetReferenceType.ts"));var o;var u=(o={},(0,s.default)(o,i.default.GALLERY_IMAGE,"/api/galleries/{collectionId}/images/asset-reference"),(0,s.default)(o,i.default.COLLECTION_IMAGE,"/api/commondata/SaveMedia/asset-reference"),(0,s.default)(o,i.default.TRANSIENT_IMAGE,"/api/uploads/images/asset-reference"),(0,s.default)(o,i.default.TWEAK_BACKGROUND_IMAGE,"/api/uploads/tweak-backgrounds/asset-reference"),o);function c(e,r){var t=u[e];return r?(0,n.default)(t,r):t}},"./src/main/webapp/universal/src/shared/constants/UploadModes.js":function(e,r,t){"use strict";var a={TRANSIENT:"transient",GLOBAL:"global",CHILD:"child",ITEM:"item"};e.exports=a},"./src/main/webapp/universal/src/shared/utils/buildUploadPostData.js":function(e,r,t){"use strict";var a=t("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var s=a(t("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var n,i;var o=t("./src/main/webapp/frontend/packages/enums/RecordType.js");var u=t("./src/main/webapp/universal/src/shared/constants/UploadModes.js");var c=(n={},(0,s.default)(n,u.ITEM,function(e){var r=e.collectionId,t=e.index;var a={collectionId:r};"number"===typeof t&&(a.index=t);return a}),(0,s.default)(n,u.CHILD,function(e){var r=e.collectionId,t=e.index,a=e.parentId;var s={collectionId:r,parentId:a};"number"===typeof t&&(s.index=t);return s}),n);var l=(i={},(0,s.default)(i,o.IMAGE,function(){return{process:true,contentType:"image",recordType:o.IMAGE}}),(0,s.default)(i,o.VIDEO,function(){return{process:true,contentType:"video",recordType:o.VIDEO}}),(0,s.default)(i,o.TWEAKASSET,function(){return{process:true,contentType:"tweak-asset",recordType:o.TWEAKASSET}}),(0,s.default)(i,o.ATTACHMENT,function(){return{useFilenameAsUrlId:true}}),i);var p=function e(r){return{contentType:r.type,fileName:r.name,fileSize:r.size,Filedata:r}};var d=function e(r){return{fileUrl:r}};var m=function e(r){var t=r.licensedAssetPreview,a=r.licensedAssetId,s=r.url;return{licensedAssetPreview:t,licensedAssetId:a,fileUrl:s}};var f=function e(r){if("string"===typeof r)return d(r);if(r instanceof File||r instanceof Blob)return p(r);if(r.licensedAssetId||r.licensedAssetPreview)return m(r)};var v=function e(r){return{replaceItemId:r}};var h=function e(r,t,a,s){var n={};var i=s&&s.replaceItemId;i&&Object.assign(n,v(i));t&&l[t]&&Object.assign(n,l[t](s));a&&c[a]&&Object.assign(n,c[a](s));Object.assign(n,f(r));return n};e.exports=h},"./src/main/webapp/universal/src/shared/utils/formatting/substituteString.js":function(e,r,t){"use strict";var a=t("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(r,"__esModule",{value:true});r.default=void 0;var s=a(t("./common/temp/node_modules/@babel/runtime/helpers/typeof.js"));var n=a(t("./common/temp/node_modules/lodash/memoize.js"));var i=/({[^}]+})/g;var o=/{([^}]+)}/;var u=function e(r){return"string"===typeof r};var c=(0,n.default)(function(e){return e.split(i)});var l=function e(r,t){return r+"-"+JSON.stringify(t)};var p=(0,n.default)(function(e,t){"object"===(0,s.default)(t)&&null!==t&&(e=e.map(function(e){var r=e.match(o);if(r&&t.hasOwnProperty(r[1]))return t[r[1]]+"";return e}));return e.join("")},l);var d=function e(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!u(r))return r;var a=c(r);return p(a,t)};r.default=d;e.exports=r.default}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/6-e7c4dd67123c20d23f7b3-min.en-US.js.map