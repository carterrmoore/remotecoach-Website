(window["wpJsonpExtractCss"]=window["wpJsonpExtractCss"]||[]).push([["frame-toolbar-desktop","async-asset-picker-modal"],{"./common/temp/node_modules/@babel/runtime/helpers/toArray.js":function(e,t,n){var a=n("./common/temp/node_modules/@babel/runtime/helpers/arrayWithHoles.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/iterableToArray.js");var o=n("./common/temp/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js");var s=n("./common/temp/node_modules/@babel/runtime/helpers/nonIterableRest.js");function i(e){return a(e)||r(e)||o(e)||s()}e.exports=i},"./common/temp/node_modules/@sqs/core-components/components/ActivityIndicator.js":function(e,t,n){"use strict";n.r(t);var a=n("./common/temp/node_modules/@sqs/core-components/build/lib/components/ActivityIndicator/index.js");n.d(t,"default",function(){return a["a"]})},"./common/temp/node_modules/@sqs/core-components/components/Cell.js":function(e,t,n){"use strict";n.r(t);var a=n("./common/temp/node_modules/@sqs/core-components/build/lib/components/Cell/index.js");n.d(t,"default",function(){return a["b"]});n.d(t,"accessories",function(){return a["a"]})},"./common/temp/node_modules/@sqs/core-components/components/FeatureGatePanel.js":function(e,t,n){"use strict";n.r(t);var a=n("./common/temp/node_modules/@sqs/core-components/build/lib/components/FeatureGate/FeatureGatePanel.js");n.d(t,"default",function(){return a["a"]})},"./common/temp/node_modules/@sqs/core-components/components/Rte.js":function(e,t,n){"use strict";n.r(t);var a=n("./common/temp/node_modules/@sqs/core-components/build/lib/components/RichTextEditor/index.js");n.d(t,"default",function(){return a["m"]});n.d(t,"Toolbar",function(){return a["j"]});n.d(t,"Tooltip",function(){return a["k"]});n.d(t,"FloatingToolbar",function(){return a["e"]});n.d(t,"MobileToolbar",function(){return a["i"]});n.d(t,"Menu",function(){return a["g"]});n.d(t,"MenuItems",function(){return a["h"]});n.d(t,"itemConfig",function(){return a["o"]});n.d(t,"ItemConfigEditor",function(){return a["f"]});n.d(t,"withRangePositionHelper",function(){return a["p"]});n.d(t,"EditorWithMenu",function(){return a["d"]});n.d(t,"ControlledEditor",function(){return a["b"]});n.d(t,"createEditorState",function(){return a["l"]});n.d(t,"getMenuState",function(){return a["n"]});n.d(t,"AVAILABLE_BLOCK_TYPES",function(){return a["a"]});n.d(t,"DEFAULT_TOOLBAR_TYPES",function(){return a["c"]})},"./common/temp/node_modules/@sqs/core-components/components/SEOPreview.js":function(e,t,n){"use strict";n.r(t);var a=n("./common/temp/node_modules/@sqs/core-components/build/lib/components/SEOPreview/index.js");n.d(t,"default",function(){return a["a"]})},"./common/temp/node_modules/@sqs/core-components/components/SearchableList.js":function(e,t,n){"use strict";n.r(t);var a=n("./common/temp/node_modules/@sqs/core-components/build/lib/components/SearchableList/index.js");n.d(t,"default",function(){return a["a"]})},"./common/temp/node_modules/@sqs/core-components/components/SocialPreview.js":function(e,t,n){"use strict";n.r(t);var a=n("./common/temp/node_modules/@sqs/core-components/build/lib/components/SocialPreview/index.js");n.d(t,"default",function(){return a["a"]})},"./common/temp/node_modules/@sqs/core-components/components/TagManager.js":function(e,t,n){"use strict";n.r(t);var a=n("./common/temp/node_modules/@sqs/core-components/build/lib/components/TagManager/index.js");n.d(t,"default",function(){return a["a"]})},"./common/temp/node_modules/@sqs/core-components/containers/PopOver.js":function(e,t,n){"use strict";n.r(t);var a=n("./common/temp/node_modules/@sqs/core-components/build/lib/containers/PopOver/index.js");n.d(t,"default",function(){return a["b"]});n.d(t,"PopOverComponent",function(){return a["a"]})},"./common/temp/node_modules/@sqs/core-components/containers/Wizard.js":function(e,t,n){"use strict";n.r(t);var a=n("./common/temp/node_modules/@sqs/core-components/build/lib/containers/Wizard/index.js");n.d(t,"default",function(){return a["a"]})},"./common/temp/node_modules/@sqs/core-components/fields/StringField.js":function(e,t,n){"use strict";n.r(t);var a=n("./common/temp/node_modules/@sqs/core-components/build/lib/fields/StringField/index.js");n.d(t,"default",function(){return a["b"]});n.d(t,"StringField",function(){return a["a"]})},"./common/temp/node_modules/@sqs/core-components/lib/web/DateTimeField.js":function(e,t,n){"use strict";n.r(t);var a=n("./common/temp/node_modules/@sqs/core-components/build/lib/fields/DateTimeField/index.js");n.d(t,"default",function(){return a["a"]})},"./common/temp/node_modules/@sqs/core-components/lib/web/Modal.js":function(e,t,n){"use strict";n.r(t);var a=n("./common/temp/node_modules/@sqs/core-components/build/lib/modals/Modal/index.js");n.d(t,"default",function(){return a["c"]});n.d(t,"BaseModal",function(){return a["a"]});n.d(t,"RosettaModal",function(){return a["b"]})},"./common/temp/node_modules/@sqs/core-components/modals/Modal.js":function(e,t,n){"use strict";n.r(t);var a=n("./common/temp/node_modules/@sqs/core-components/build/lib/modals/Modal/index.js");n.d(t,"default",function(){return a["c"]});n.d(t,"BaseModal",function(){return a["a"]});n.d(t,"RosettaModal",function(){return a["b"]})},"./common/temp/node_modules/@sqs/core-components/primitives/Checkbox.js":function(e,t,n){"use strict";n.r(t);var a=n("./common/temp/node_modules/@sqs/core-components/build/lib/primitives/Checkbox/index.js");n.d(t,"default",function(){return a["a"]})},"./common/temp/node_modules/@sqs/core-components/primitives/Description.js":function(e,t,n){"use strict";n.r(t);var a=n("./common/temp/node_modules/@sqs/core-components/build/lib/primitives/Description/index.js");n.d(t,"default",function(){return a["a"]})},"./common/temp/node_modules/@sqs/core-components/primitives/Input.js":function(e,t,n){"use strict";n.r(t);var a=n("./common/temp/node_modules/@sqs/core-components/build/lib/primitives/Input/index.js");n.d(t,"default",function(){return a["a"]})},"./common/temp/node_modules/@sqs/core-components/primitives/Label.js":function(e,t,n){"use strict";n.r(t);var a=n("./common/temp/node_modules/@sqs/core-components/build/lib/primitives/Label/index.js");n.d(t,"default",function(){return a["a"]})},"./common/temp/node_modules/@sqs/core-components/web/modals/ConfirmModal.js":function(e,t,n){"use strict";n.r(t);var a=n("./common/temp/node_modules/@sqs/core-components/build/lib/modals/DismissableModals/ConfirmModal.js");n.d(t,"default",function(){return a["a"]})},"./common/temp/node_modules/@sqs/utils/Tween/index.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var s=a(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var i=n("./common/temp/node_modules/raf/index.js");var l=n("./common/temp/node_modules/easing-js/easing.js");var u=n("./common/temp/node_modules/@sqs/utils/number/isFiniteNumber.js");var o=function(){function o(e,t){(0,s["default"])(this,o);if("function"!==typeof e)throw new Error("[Tween] First parameter needs to be a function.");var n=t.duration,a=t.easing,r=t.onEnd;if(void 0!==n&&!u(n))throw new Error("[Tween] Duration is not a finite number.");this.fn=e;this.duration=void 0===n?300:n;this.easingFn=l[a||"linear"];this.onEnd=r}(0,r["default"])(o,[{key:"start",value:function e(){var t=this;this.next=i(function(){t.startTime=(new Date).getTime();t.tween()})}},{key:"end",value:function e(){this.cancelNext();this.fn(1);"function"===typeof this.onEnd&&this.onEnd()}},{key:"cancelNext",value:function e(){if(this.next){i.cancel(this.next);this.next=null}}},{key:"pause",value:function e(){if(this.next){this.cancelNext();this.pausedTime=(new Date).getTime()}}},{key:"resume",value:function e(){var n=this;if(!this.pausedTime)return;this.next=i(function(){var e=(new Date).getTime();var t=e-n.pausedTime;n.startTime+=t;n.tween();delete n.pausedTime})}},{key:"isPaused",value:function e(){return!!this.pausedTime}},{key:"isRunning",value:function e(){return!!this.next}},{key:"getMultiplier",value:function e(t){return this.easingFn(t,0,1,1)}},{key:"tween",value:function e(){this.next=null;var t=(new Date).getTime();var n=this.duration;var a=t-this.startTime;if(a>=n){this.end();return}this.fn(this.getMultiplier(a/n));this.next=i(this.tween.bind(this))}}]);return o}();var d=["start","end","resume","pause","isRunning","isPaused"];var c=function e(t,n){var a=this;(0,s["default"])(this,e);var r=new o(t,n);d.forEach(function(e){a[e]=function(){return r[e]()}})};e.exports=c},"./common/temp/node_modules/@sqs/utils/color/averageColors.js":function(e,t,n){"use strict";var i=n("./common/temp/node_modules/@sqs/utils/color/parseColor.js");var l=["red","green","blue"];var a=function e(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var r=[];var o=1/n.length;n=n.map(function(e){r.push(e.weight||o);if("string"===typeof e)return i(e);return e});var s={};l.forEach(function(a){s[a]=Math.round(n.reduce(function(e,t,n){return e+t[a]*r[n]},0))});s.alpha=n.reduce(function(e,t,n){return e+t.alpha*r[n]},0);return s};e.exports=a},"./common/temp/node_modules/@sqs/utils/color/getColor.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@sqs/utils/color/parseColor.js");function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb";if("string"!==typeof e)throw new TypeError(e+" is not a valid string");"string"!==typeof t&&(t="transparent");e=e.trim();return a(e,n)||a(t,n)}e.exports=r},"./common/temp/node_modules/@sqs/utils/color/index.js":function(e,t,n){"use strict";e.exports={averageColors:n("./common/temp/node_modules/@sqs/utils/color/averageColors.js"),isDark:n("./common/temp/node_modules/@sqs/utils/color/isDark.js"),isLight:n("./common/temp/node_modules/@sqs/utils/color/isLight.js"),parseColor:n("./common/temp/node_modules/@sqs/utils/color/parseColor.js"),parseGradient:n("./common/temp/node_modules/@sqs/utils/color/parseGradient.js"),getColor:n("./common/temp/node_modules/@sqs/utils/color/getColor.js"),readDominantColor:n("./common/temp/node_modules/@sqs/utils/color/readDominantColor.js"),stackColors:n("./common/temp/node_modules/@sqs/utils/color/stackColors.js"),stringifyColor:n("./common/temp/node_modules/@sqs/utils/color/stringifyColor.js"),isHex:n("./common/temp/node_modules/@sqs/utils/color/validators.js").isHex,isHsl:n("./common/temp/node_modules/@sqs/utils/color/validators.js").isHsl}},"./common/temp/node_modules/@sqs/utils/color/isDark.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@sqs/utils/color/parseColor.js");var r=function e(t){"string"===typeof t&&(t=a(t));var n=(299*t.red+587*t.green+114*t.blue)/1e3;return n<166.4};e.exports=r},"./common/temp/node_modules/@sqs/utils/color/isLight.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@sqs/utils/color/isDark.js");var r=function e(t){return!a(t)};e.exports=r},"./common/temp/node_modules/@sqs/utils/color/parseGradient.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var c=a(n("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var r=n("./common/temp/node_modules/color-name/index.js");var m=Object.keys(r);var p=/\)$/;var f=/(?:,\s*|\()(?!\s*\d)/;var v=/\s(?=[.\w|%]+$)/;var b=/(linear(-gradient)?|radial)/;var o=function e(t){t=t.replace(p,"").split(f);var n=t[0].match(b);if(!n)return null;var a=n[0];var r=t[0].indexOf("repeating")>-1;var o=t.slice(2).map(function(e){var t=e.split(v),n=(0,c["default"])(t,2),a=n[0],r=n[1];return a&&r?{color:a,stop:r}:null}).filter(function(e){return e});if(0===o.length)return null;var s=t[1];var i=s.split(v),l=(0,c["default"])(i,2),u=l[0],d=l[1];(u.search(/\d/)>-1||m.indexOf(u)>-1)&&o.unshift({color:u,stop:d});return{type:a,repeating:r,colorStops:o}};e.exports=o},"./common/temp/node_modules/@sqs/utils/color/readDominantColor.js":function(e,t,n){"use strict";var a=1;var r=1;var s=function e(){var t=document.createElement("canvas");t.width=a;t.height=r;return t};var o=function e(t,n){var a=t.getContext("2d");a.fillStyle=n;a.fillRect(0,0,t.width,t.height)};var i=function e(t,n){t.getContext("2d").drawImage(n,0,0,t.width,t.height)};var l=function e(t,n){var a=t.getContext("2d").createLinearGradient(0,0,0,t.height);n.forEach(function(e){var t=e.color,n=e.stop;a.addColorStop(n,t)});o(t,a)};var u=function e(t){t.getContext("2d").clearRect(0,0,t.width,t.height)};var d=function e(t){try{var n=t.getContext("2d").getImageData(0,0,t.width,t.height),a=n.data;return a}catch(e){return null}};var c=function e(t){var n=t.img,a=t.gradient;var r=s();n?i(r,n):a&&l(r,a);var o=d(r);u(r);if(!o)return null;return{red:o[0],green:o[1],blue:o[2],alpha:o[3]/255}};e.exports=c},"./common/temp/node_modules/@sqs/utils/color/stackColors.js":function(e,t,n){"use strict";var l=n("./common/temp/node_modules/@sqs/utils/color/getColor.js");var u=["red","green","blue"];var a=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transparent";var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"transparent";"string"===typeof t&&(t=l(t));"string"===typeof n&&(n=l(n));var a=1-(1-t.alpha)*(1-n.alpha);var r={alpha:a};if(a<.001){u.forEach(function(e){r[e]=0});r.alpha=0}else u.forEach(function(e){r[e]=Math.round(t[e]*t.alpha+n[e]*(1-t.alpha))});for(var o=arguments.length,s=new Array(o>2?o-2:0),i=2;i<o;i++)s[i-2]=arguments[i];if(s&&s.length>0)return e.apply(void 0,[r].concat(s));return r};e.exports=a},"./common/temp/node_modules/@sqs/utils/color/validators.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isHsl=t.isHex=void 0;var a=function e(t){return t&&t.charAt&&"#"===t.charAt(0)};t.isHex=a;var r=function e(t){return t&&t.substring&&"hsl"===t.substring(0,3)};t.isHsl=r},"./common/temp/node_modules/@sqs/utils/number/clamp.js":function(e,t,n){"use strict";var a=function e(t,n,a){return Math.max(n,Math.min(t,a))};e.exports=a},"./common/temp/node_modules/@sqs/utils/number/isFiniteNumber.js":function(e,t,n){"use strict";var a=function e(t){return"number"===typeof t&&!isNaN(t)&&isFinite(t)};e.exports=a},"./common/temp/node_modules/@sqs/utils/number/normalizeFiniteNumber.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@sqs/utils/number/isFiniteNumber.js");var r=function e(t,n){return a(t)?t:n};e.exports=r},"./common/temp/node_modules/@sqs/utils/scroll/scrollTo.js":function(e,t,n){"use strict";var m=n("./common/temp/node_modules/@sqs/utils/scroll/normalizeScrollSetter.js");var p=n("./common/temp/node_modules/@sqs/utils/number/clamp.js");var f=n("./common/temp/node_modules/@sqs/utils/number/isFiniteNumber.js");var v=n("./common/temp/node_modules/@sqs/utils/number/normalizeFiniteNumber.js");var b=n("./common/temp/node_modules/@sqs/utils/Tween/index.js");var h=function e(){};var g=function e(t,n,a){f(n)&&(t.scrollLeft=n);f(a)&&(t.scrollTop=a)};var a=function e(a,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a=m(a);var r="function"===typeof n.onEnd?n.onEnd:h;var o=v(n.minDuration,50);var s=v(n.maxDuration,50);var i=n.easing;f(t)&&(t={top:t});if(false===i){g(a,t.left,t.top);r();return null}var l={left:a.scrollLeft,top:a.scrollTop};var u=[t.left-l.left,t.top-l.top];var d=Math.max.apply(null,u.map(function(e){return Math.abs(e)}).filter(f));if(d<1){r();return null}var c=new b(function(e){var t=l.left+e*u[0];var n=l.top+e*u[1];g(a,t,n)},{onEnd:r,duration:p(d,o,s),easing:"string"===typeof i&&i?i:"easeOutSine"});c.start();return c};e.exports=a},"./common/temp/node_modules/lodash/_arrayShuffle.js":function(e,t,n){var a=n("./common/temp/node_modules/lodash/_copyArray.js"),r=n("./common/temp/node_modules/lodash/_shuffleSelf.js");function o(e){return r(a(e))}e.exports=o},"./common/temp/node_modules/lodash/_baseRandom.js":function(e,t){var n=Math.floor,a=Math.random;function r(e,t){return e+n(a()*(t-e+1))}e.exports=r},"./common/temp/node_modules/lodash/_baseShuffle.js":function(e,t,n){var a=n("./common/temp/node_modules/lodash/_shuffleSelf.js"),r=n("./common/temp/node_modules/lodash/values.js");function o(e){return a(r(e))}e.exports=o},"./common/temp/node_modules/lodash/_baseValues.js":function(e,t,n){var a=n("./common/temp/node_modules/lodash/_arrayMap.js");function r(t,e){return a(e,function(e){return t[e]})}e.exports=r},"./common/temp/node_modules/lodash/_shuffleSelf.js":function(e,t,n){var i=n("./common/temp/node_modules/lodash/_baseRandom.js");function a(e,t){var n=-1,a=e.length,r=a-1;t=void 0===t?a:t;while(++n<t){var o=i(n,r),s=e[o];e[o]=e[n];e[n]=s}e.length=t;return e}e.exports=a},"./common/temp/node_modules/lodash/shuffle.js":function(e,t,n){var a=n("./common/temp/node_modules/lodash/_arrayShuffle.js"),r=n("./common/temp/node_modules/lodash/_baseShuffle.js"),o=n("./common/temp/node_modules/lodash/isArray.js");function s(e){var t=o(e)?a:r;return t(e)}e.exports=s},"./common/temp/node_modules/lodash/values.js":function(e,t,n){var a=n("./common/temp/node_modules/lodash/_baseValues.js"),r=n("./common/temp/node_modules/lodash/keys.js");function o(e){return null==e?[]:a(e,r(e))}e.exports=o},"./src/main/webapp/frontend/packages/brand/color-palette/lib/components/PaletteSample.less":function(e,t,n){e.exports={swatches:"_1xGtkgEA0",swatch:"_2-VE0wmLA"}},"./src/main/webapp/frontend/packages/brand/color-palette/lib/components/PaletteSampleButton.less":function(e,t,n){e.exports={paletteV2:"_1DppW2J0c",swatch:"_3uCpcL0Hu",active:"fSXVMRwdd"}},"./src/main/webapp/frontend/packages/brand/color-palette/lib/components/WebsiteColorPalette.less":function(e,t,n){e.exports={activeSwatch:"_11jN3iAG1",swatch:"_27Sk5-T1M"}},"./src/main/webapp/frontend/packages/brand/color-palette/lib/i18n/index.js":function(e,t,n){"use strict";n.r(t);n.d(t,"getI18nInstance",function(){return l});n.d(t,"setI18nInstance",function(){return u});var a=n("./common/temp/node_modules/@sqs/i18n-ui/lib/library-helpers.js");var r=n.n(a);var o="brandSystem.colorPicker";function s(e){return n("./src/main/webapp/frontend/packages/brand/color-palette/sqs-i18n-translations/strings sync recursive .*.en-US.(yaml|json)$")("./".concat(o,".").concat(e,".yaml"))}var i=Object(a["setupLibrary"])(o,s),l=i.getI18nInstance,u=i.setI18nInstance},"./src/main/webapp/frontend/packages/brand/color-palette/lib/index.js":function(e,t,n){"use strict";n.r(t);n.d(t,"setI18nInstance",function(){return r["setI18nInstance"]});n.d(t,"Swatch",function(){return h});n.d(t,"PaletteSample",function(){return X});n.d(t,"PaletteSampleButton",function(){return $});n.d(t,"ColorPropType",function(){return I});n.d(t,"PalettePropType",function(){return D});n.d(t,"WebsiteColorPalette",function(){return he});n.d(t,"paletteConstantsV2",function(){return a});var a={};n.r(a);n.d(a,"SYSTEM_COLOR_CONFIG_MAP",function(){return B});n.d(a,"SYSTEM_COLOR_AS_ORDERED_ARRAY_V2",function(){return V});n.d(a,"SELECTOR_COLOR_AS_ORDERED_ARRAY_V2",function(){return U});var r=n("./src/main/webapp/frontend/packages/brand/color-palette/lib/i18n/index.js");var o=n("./common/temp/node_modules/@babel/runtime/helpers/extends.js");var v=n.n(o);var s=n("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js");var b=n.n(s);var i=n("./common/temp/node_modules/prop-types/index.js");var l=n.n(i);var u=n("./common/temp/node_modules/react/index.js");var C=n.n(u);var d=n("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/components/Box/index.js");var c=n("./common/temp/node_modules/@sqs/utils/color/index.js");var m=["id","className","color","isActive","activeDiameter"];var p=function e(t){var n=t.id,a=t.className,r=t.color,o=t.isActive,s=t.activeDiameter,i=b()(t,m);var l=o?{width:null!==s&&void 0!==s?s:"31px",height:null!==s&&void 0!==s?s:"31px",background:r,borderStyle:"solid",borderWidth:2,borderColor:Object(c["isLight"])(r)?"black":"white",borderRadius:"50%"}:{background:r};return C.a.createElement(d["a"],v()({"data-color-id":n,className:a,width:"100%",height:"100%",css:l},i))};p.propTypes={id:l.a.string,className:l.a.string,color:l.a.string.isRequired,isActive:l.a.bool,activeDiameter:l.a.string};var h=p;var f=n("./common/temp/node_modules/@babel/runtime/helpers/typeof.js");var x=n.n(f);var g=n("./common/temp/node_modules/@babel/runtime/helpers/objectSpread.js");var y=n.n(g);var S=n("./common/temp/node_modules/lodash/find.js");var _=n.n(S);var j=n("./common/temp/node_modules/lodash/compact.js");var A=n.n(j);var E=n("./common/temp/node_modules/core-js/modules/es.array.map.js");var w=n("./common/temp/node_modules/core-js/modules/es.array.filter.js");var T=n("./common/temp/node_modules/classnames/index.js");var k=n.n(T);var P=n("./common/temp/node_modules/@sqs/utils/palette/utils.js");var I=l.a.shape({id:l.a.string.isRequired,value:l.a.string.isRequired});var D=l.a.shape({colors:l.a.arrayOf(I).isRequired});var O=n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js");var R=n.n(O);var M=n("./common/temp/node_modules/core-js/modules/es.object.freeze.js");var q=n("./common/temp/node_modules/core-js/modules/es.array.sort.js");var F=n("./common/temp/node_modules/core-js/modules/es.object.keys.js");var N=n("./common/temp/node_modules/@sqs/utils/palette/constants.js");var L;var B=Object.freeze(y()({},N["SYSTEM_COLOR_CONFIG_MAP"],(L={},R()(L,N["SystemColorId"].white,y()({},N["SYSTEM_COLOR_CONFIG_MAP"][N["SystemColorId"].white],{name:"Lightest",order:0})),R()(L,N["SystemColorId"].lightAccent,y()({},N["SYSTEM_COLOR_CONFIG_MAP"][N["SystemColorId"].lightAccent],{name:"Light",order:1})),R()(L,N["SystemColorId"].accent,y()({},N["SYSTEM_COLOR_CONFIG_MAP"][N["SystemColorId"].accent],{name:"Bright",order:2})),R()(L,N["SystemColorId"].darkAccent,y()({},N["SYSTEM_COLOR_CONFIG_MAP"][N["SystemColorId"].darkAccent],{name:"Dark",order:3})),R()(L,N["SystemColorId"].black,y()({},N["SYSTEM_COLOR_CONFIG_MAP"][N["SystemColorId"].black],{name:"Darkest",order:4})),L)));var V=Object.keys(B).sort(function(e,t){return B[e].order-B[t].order}).map(function(e){return B[e]}).filter(function(e){var t=e.userVisible;return t});var U=Object.keys(B).sort(function(e,t){return B[e].order-B[t].order}).map(function(e){return B[e]}).filter(function(e){var t=e.userVisible,n=e.hideInSelector;return t&&!n});var W=n("./src/main/webapp/frontend/packages/brand/color-palette/lib/components/PaletteSample.less");var H=n.n(W);var G=["Component","className","palette","swatchClassName","isActive","outlineDiameter","swatchDiameter"];var Y=function e(t,n){var a=_()(t.colors,n);return a?a.value:null};var z=C.a.forwardRef(function(e,t){var n=e.Component,a=void 0===n?"div":n,r=e.className,o=e.palette,s=e.swatchClassName,i=e.isActive,l=e.outlineDiameter,u=e.swatchDiameter,d=b()(e,G);var c=V;var m=Object(P["filterPaletteColorsBySystemVisible"])(o,c);var p=null===o||void 0===o?void 0:o.colors[0].value;var f=u?{width:u,height:u}:{};return C.a.createElement(a,v()({"data-test":"palette-sample",ref:t,className:k()(H.a.swatches,r),style:y()({backgroundColor:p,boxSizing:"border-box"},f)},d),Array.isArray(m.colors)&&A()(m.colors.filter(function(e){return"object"===x()(e)&&e.id}).map(function(e){var t=e.id;var n=Y(o,{id:t});return n?C.a.createElement(h,{key:t,id:t,color:n,className:s,isActive:i,activeDiameter:l}):null})))});z.displayName="PaletteSample";z.propTypes={Component:l.a.oneOfType([l.a.string,l.a.elementType]),className:l.a.string,palette:D.isRequired,swatchClassName:l.a.string,isActive:l.a.bool,outlineDiameter:l.a.string,swatchDiameter:l.a.string};var X=z;var K=n("./src/main/webapp/frontend/packages/brand/color-palette/lib/components/PaletteSampleButton.less");var J=n.n(K);var Q=["className","swatchClassName","isActive","isFiltered","palette","onClick"];var Z=function e(t){var n;var a=t.className,r=t.swatchClassName,o=t.isActive,s=t.isFiltered,i=void 0===s||s,l=t.palette,u=t.onClick,d=b()(t,Q);var c=k()((n={},R()(n,J.a.paletteV2,true),R()(n,J.a.active,o),n),a);var m=l;if(i){var p=U;m=Object(P["filterPaletteColorsBySystemVisible"])(l,p)}return C.a.createElement(X,v()({Component:"button","data-palette-id":l.id,className:c,palette:m,swatchClassName:k()(J.a.swatch,r),onClick:u},d))};Z.propTypes={className:l.a.string,swatchClassName:l.a.string,isActive:l.a.bool,isFiltered:l.a.bool,palette:D,onClick:l.a.func};var $=Z;var ee=n("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js");var te=n.n(ee);var ne=n("./common/temp/node_modules/core-js/modules/es.array.find.js");var ae=n("./common/temp/node_modules/core-js/modules/es.object.assign.js");var re=n("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/components/Flex/index.js");var oe=n("./common/temp/node_modules/@sqs/rosetta-compositions/build/lib/components/ColorPicker/index.js");var se=n("./common/temp/node_modules/@sqs/rosetta-styled/build/lib/ThemeContext.js");var ie=n("./common/temp/node_modules/@sqs/utils/color/stringifyColor.js");var le=n.n(ie);var ue=n("./common/temp/node_modules/@sqs/utils/color/parseColor.js");var de=n.n(ue);var ce=n("./src/main/webapp/frontend/packages/brand/color-palette/lib/components/WebsiteColorPalette.less");var me=n.n(ce);var pe=function e(t){var n=t.palette,a=t.id;if(!a||!n)return null;return n.colors.find(function(e){return e.id===a})};var fe=function e(t){var n=t.color,a=t.alpha;var r=Object.assign({},de()(n),{alpha:a});return le()(r,"rgb")};var ve=function e(t){return Math.min(1,Math.max(t,.01))};var be=function e(t){var n;var o=t.palette,a=t.alpha,r=void 0===a?1:a,s=t.selectedId,i=void 0===s?null:s,l=t.onClick,u=void 0===l?function(e){return console.log(e)}:l;var d=C.a.useState(i),c=te()(d,2),m=c[0],p=c[1];var f=C.a.useState(null===(n=pe({palette:o,id:m}))||void 0===n?void 0:n.value),v=te()(f,2),b=v[0],h=v[1];var g=C.a.useState(r),y=te()(g,2),S=y[0],_=y[1];var j=Object(se["b"])(),E=j.space;var w=function e(t){var n=t.color,a=t.id,r=t.alpha;_(r);p(a);h(pe({palette:o,id:a}).value);u({id:a,value:n,alpha:r})};var T=function e(){var t=Object(P["filterPaletteColorsBySystemVisible"])(o,V);var n=t.colors;if(!Array.isArray(n))return null;var a=n.filter(function(e){return"object"===x()(e)&&e.id&&e.value});var r=a.map(function(e){var t=e.id,n=e.value;return C.a.createElement(oe["a"].Swatch,{key:t,id:t,color:n,onClick:function e(){return w({color:n,id:t,alpha:S})},isSelected:t===m,className:t===m?me.a.activeSwatch:me.a.swatch})});return A()(r)};return C.a.createElement(C.a.Fragment,null,C.a.createElement(re["a"],{flexDirection:"row",justifyContent:"space-between",marginBottom:E[4]},T()),C.a.createElement(oe["a"],{onChange:function e(t){var n=de()(t),a=n.alpha;w({color:b,id:m,alpha:ve(a)})},value:fe({color:b||"#fff",alpha:ve(S)})},C.a.createElement(oe["a"].Alpha,null)))};be.displayName="WebsiteColorPalette";be.propTypes={palette:D.isRequired,alpha:l.a.number,selectedId:l.a.string,onClick:l.a.func};var he=be},"./src/main/webapp/frontend/packages/brand/color-palette/sqs-i18n-translations/strings sync recursive .*.en-US.(yaml|json)$":function(e,t,n){var a={"./brandSystem.colorPicker.en-US.yaml":"./src/main/webapp/frontend/packages/brand/color-palette/sqs-i18n-translations/strings/brandSystem.colorPicker.en-US.yaml"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");t.code="MODULE_NOT_FOUND";throw t}return a[e]}r.keys=function e(){return Object.keys(a)};r.resolve=o;e.exports=r;r.id="./src/main/webapp/frontend/packages/brand/color-palette/sqs-i18n-translations/strings sync recursive .*.en-US.(yaml|json)$"},"./src/main/webapp/frontend/packages/brand/color-palette/sqs-i18n-translations/strings/brandSystem.colorPicker.en-US.yaml":function(e,t){e.exports={"2055687ac7ba1bcedc3580e70012238d":"Example string to prevent console errors"}},"./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/InEditorSurveyModal.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var E=a(n("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var w=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var T=r(n("./common/temp/node_modules/react/index.js"));var C=n("./src/main/webapp/universal/src/shared/i18n/index.ts");var x=n("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var A=n("./common/temp/node_modules/@sqs/rosetta-tokens/build/lib/index.js");var k=a(n("./src/main/webapp/universal/src/shared/utils/events/UserSurveyEvents.js"));var P=n("./src/main/webapp/universal/src/apps/App/components/Survey/SurveyModal.tsx");var I=a(n("./src/main/webapp/universal/src/apps/App/components/Survey/components/Scale.tsx"));var D=a(n("./src/main/webapp/universal/src/apps/App/components/Survey/components/FreeTextInput.tsx"));var O=a(n("./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/components/MultiSelectInput.js"));var R=n("./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/utils/steps.js");var M=n("./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/utils/index.js");var q=a(n("./src/main/webapp/universal/src/apps/App/components/Survey/components/InputStep.less"));var o;var F=(o={},(0,w.default)(o,R.StepTypes.SCALE,"response_numeric"),(0,w.default)(o,R.StepTypes.STRUCTURED_TEXT,"response_structured_text"),o);var s=function e(){var t=(0,T.useState)(true),n=(0,E.default)(t,2),a=n[0],r=n[1];var o=(0,T.useState)(0),s=(0,E.default)(o,2),i=s[0],l=s[1];var u=(0,T.useState)(),d=(0,E.default)(u,2),c=d[0],m=d[1];var p=(0,T.useState)(""),f=(0,E.default)(p,2),v=f[0],b=f[1];var h=M.questions[i];var g=i===M.questions.length-1;(0,T.useEffect)(function(){a&&k.default.userViewsInEditorSurvey({step:i,displayName:h.analyticsName,variant:M.variant})},[i,a,h]);var y=(0,T.useMemo)(function(){if(v)return true;if(h.type===R.StepTypes.STRUCTURED_TEXT)return Object.values(c||{}).some(function(e){return e});return!!c},[h,c,v]);var S=function e(){k.default.userDismissesInEditorSurvey({displayName:h.analyticsName,step:i,variant:M.variant});r(false)};var _=function e(t){var n=h.type===R.StepTypes.SCALE?c:(0,M.formatStructuredTextResponse)(c);k.default.userSubmitsInEditorSurvey({freeText:v,displayName:h.analyticsName,step:i,response:(0,w.default)({},F[h.type],n),variant:M.variant});g?t():l(i+1);m(null);b("")};var j=function e(){r(false)};return T.default.createElement(P.SurveyModal,{display:a,onRequestClose:S,onComplete:j,inputStep:function e(t){var n=t.updateStepOnSave;return T.default.createElement(x.Flex,{flexDirection:"column"},T.default.createElement(x.Text.Title,{as:"h2",id:"survey-header",mb:4},h.title),h.type===R.StepTypes.SCALE?T.default.createElement(I.default,{labelId:"survey-header",onChange:m,variant:P.SurveyVariant.LIKERT,surveyOptions:h.options,currentValue:c}):T.default.createElement(T.default.Fragment,null,T.default.createElement(O.default,{labelId:"survey-header",onChange:m,options:h.options}),T.default.createElement(D.default,{freeTextInputLabel:h.freeTextInputLabel,freeTextInputPlaceholder:h.freeTextInputPlaceholder,onChange:b,value:null!==v&&void 0!==v?v:""})),y?T.default.createElement(x.Box,{sx:{animation:"".concat(q.default.fadeFreeTextInput," ").concat(A.time[300]," ").concat(A.easing.product.entrance)}},h.type===R.StepTypes.SCALE?T.default.createElement(D.default,{freeTextInputLabel:h.freeTextInputLabel,freeTextInputPlaceholder:h.freeTextInputPlaceholder,onChange:b,value:null!==v&&void 0!==v?v:""}):null,T.default.createElement(x.Button.Primary,{onClick:function e(){return _(n)},mt:5,size:1,width:"100%"},g?(0,C.t)("Submit"):(0,C.t)("Next"))):null)}})};var i=s;t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/components/MultiSelectInput.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var d=r(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var c=r(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var m=r(n("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var p=a(n("./common/temp/node_modules/react/index.js"));var o=r(n("./common/temp/node_modules/prop-types/index.js"));var f=n("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var v=r(n("./src/main/webapp/universal/src/apps/App/components/Survey/components/ScaleCell.tsx"));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),true).forEach(function(e){(0,c.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var h=function e(t){return t.reduce(function(e,t){e[t.value]=false;return e},{})};var i=function e(t){var n=t.options,a=t.labelId,r=t.onChange;var o=(0,p.useState)(h(n)),s=(0,m.default)(o,2),i=s[0],l=s[1];var u=function e(t){var n=b({},i,(0,c.default)({},t,!i[t]));l(n);r(n)};return p.default.createElement(f.Flex,{flexWrap:"wrap",position:"relative",role:"group","aria-labelledby":a},n.map(function(t){return p.default.createElement(v.default,(0,d.default)({id:t.value,key:t.value,currentValue:!!i[t.value]&&t.value,onChange:function e(){return u(t.value)},inputType:"checkbox",halfWidth:true},t))}))};i.propTypes={options:o.default.array.isRequired,labelId:o.default.string.isRequired,onChange:o.default.func.isRequired};var l=i;t.default=l;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/index.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/react/index.js"));var o=n("./common/temp/node_modules/@sqs/rosetta-tokens/build/lib/index.js");var s=n("./common/temp/node_modules/@sqs/rosetta-utilities/build/lib/index.js");var i=a(n("./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/InEditorSurveyModal.js"));var l=a(n("./src/main/webapp/universal/src/apps/App/components/Survey/hooks/useTimedDelivery.tsx"));var u=n("./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/utils/index.js");var d=function e(){var t=["mobile","tablet"].includes((0,s.getBreakpoint)(o.breakpoints).platform);var n=(0,l.default)((0,u.getTimeToSurveyMs)(),u.markSurveySeen);if(!(0,u.isWebsiteEligibleForSurvey)()||t||!n||(0,u.hasAlreadySeenSurvey)())return null;return r.default.createElement(i.default,null)};var c=d;t.default=c;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/utils/index.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.isWebsiteEligibleForSurvey=t.formatStructuredTextResponse=t.getTimeToSurveyMs=t.markSurveySeen=t.hasAlreadySeenSurvey=t.questions=t.variant=void 0;var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var o=a(n("./common/temp/node_modules/@sqs/cookie-cutter/index.js"));var s=a(n("./src/main/webapp/universal/src/apps/App/shared/stores/AuthenticatedAccountStore.js"));var i=a(n("./src/main/webapp/universal/src/apps/App/shared/actions/AuthenticatedAccountActions.js"));var l=a(n("./src/main/webapp/universal/src/shared/utils/TemplateVersionUtils.js"));var u=n("./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/utils/steps.js");var d,c;var m="45_minutes";var p="30_minutes";var f="15_minutes";var v="none";var b=(d={},(0,r.default)(d,m,45),(0,r.default)(d,p,30),(0,r.default)(d,f,15),d);var h=(c={},(0,r.default)(c,m,u.ABS_STEPS),(0,r.default)(c,p,u.LAYOUT_STEPS),(0,r.default)(c,f,u.ABS_STEPS),c);var g="force_in_editor_survey";var y="in_editor_survey";var S=.25;var _=function e(){var t=window.Static.SQUARESPACE_CONTEXT.cmsExperimentList,n=void 0===t?[]:t;var a=n.find(function(e){var t=e.name;return t===y});return(null===a||void 0===a?void 0:a.variant)||v};var j=function e(){return!!o.default.get(g)};var E=_();t.variant=E;var w=h[E];t.questions=w;var T=function e(){return s.default.isTutorialCompleted(y)&&!j()};t.hasAlreadySeenSurvey=T;var C=function e(){return i.default.markTutorialCompleted(y)};t.markSurveySeen=C;var x=function e(){return 1e3*(j()?S:b[E])*60};t.getTimeToSurveyMs=x;var A=function e(t){if(!t)return"";return Object.keys(t).filter(function(e){return t[e]}).sort().join(",")};t.formatStructuredTextResponse=A;var k=function e(){return l.default.isSevenOne()&&E!==v};t.isWebsiteEligibleForSurvey=k},"./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/utils/steps.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.LAYOUT_STEPS=t.ABS_STEPS=t.StepTypes=void 0;var a=n("./src/main/webapp/universal/src/shared/i18n/index.ts");var r={SCALE:"SCALE",STRUCTURED_TEXT:"STRUCTURED_TEXT"};t.StepTypes=r;var o=[{title:(0,a.t)("This website is exactly what I envision."),analyticsName:"This website is exactly what I envision",type:r.SCALE,freeTextInputLabel:(0,a.t)("Feedback"),freeTextInputPlaceholder:(0,a.t)("Why's that? (Optional)"),options:[{id:"likert1",value:1,text:(0,a.t)("Strongly Disagree")},{id:"likert2",value:2,text:(0,a.t)("Disagree")},{id:"likert3",value:3,text:(0,a.t)("Neither Disagree nor Agree")},{id:"likert4",value:4,text:(0,a.t)("Agree")},{id:"likert5",value:5,text:(0,a.t)("Strongly Agree")}]},{title:(0,a.t)("What needs to change for this website to match your vision (if anything)? (select all that apply)"),analyticsName:"What needs to change for this website to match your vision (if anything)? (select all that apply)",type:r.STRUCTURED_TEXT,freeTextInputLabel:(0,a.t)("Other"),freeTextInputPlaceholder:(0,a.t)("Write Here"),options:[{value:"layout",text:(0,a.t)("Layout")},{value:"color",text:(0,a.t)("Color")},{value:"site-title",text:(0,a.t)("Site Title")},{value:"text",text:(0,a.t)("Text")},{value:"fonts",text:(0,a.t)("Fonts")},{value:"logo",text:(0,a.t)("Logo")},{value:"images",text:(0,a.t)("Images")},{value:"nothing",text:(0,a.t)("Nothing")}]}];t.ABS_STEPS=o;var s=[{title:(0,a.t)("How would you rate our website builder?"),analyticsName:"How would you rate our website builder",type:r.SCALE,freeTextInputLabel:(0,a.t)("Feedback"),freeTextInputPlaceholder:(0,a.t)("Why's that? (Optional)"),options:[{id:"likert1",value:1,text:(0,a.t)("Very hard to use")},{id:"likert2",value:2,text:(0,a.t)("Hard to use")},{id:"likert3",value:3,text:(0,a.t)("Neither easy nor hard")},{id:"likert4",value:4,text:(0,a.t)("Easy to use")},{id:"likert5",value:5,text:(0,a.t)("Very easy to use")}]}];t.LAYOUT_STEPS=s},"./src/main/webapp/universal/src/apps/App/shared/actions/CollectionAndItemCatalogTaxonomyActions.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=a(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var s=a(n("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts"));var i=a(n("./src/main/webapp/universal/src/apps/App/shared/utils/CatalogTaxonomyAPI.js"));var l=s.default.createActions(function(){function e(){(0,r.default)(this,e);this.generateActions("loadCategoriesSuccess","saveCategorySuccess","removeCategorySuccess")}(0,o.default)(e,[{key:"loadCategories",value:function e(t,n){var a=this;var r=n?i.default.loadItemCategories(t,n):i.default.loadPageCategories(t);return r.then(function(e){var t=e.data;return a.loadCategoriesSuccess({taxonomyCategories:t})})}},{key:"saveCategory",value:function e(t,n,a){var r=this;var o=n?i.default.saveItemCategory(t,n,a):i.default.savePageCategory(t,a);return o.then(function(e){var t=e.data;return r.saveCategorySuccess(t)})}},{key:"removeCategory",value:function e(t,n,a){var r=this;var o=n?i.default.removeItemCategory(t,n,a):i.default.removePageCategory(t,a);return o.then(function(){return r.removeCategorySuccess({collectionId:t,itemId:n,categoryId:a})})}}]);return e}());t.default=l;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/actions/PageAdminActions.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var o=a(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var s=a(n("./src/main/webapp/universal/src/shared/dispatchers/alt/index.ts"));var i=n("./src/main/webapp/universal/src/apps/App/shared/utils/PageCatalogAPI.js");var l=n("./src/main/webapp/universal/src/apps/App/shared/utils/ItemCatalogAPI.js");var u=a(n("./src/main/webapp/universal/src/apps/App/shared/actions/ContentCollectionActions.js"));var d=a(n("./src/main/webapp/universal/src/apps/App/shared/actions/ContentItemActions.js"));var c=function(){function e(){(0,r.default)(this,e);this.generateActions("open","close")}(0,o.default)(e,[{key:"setPageIsAvailableInCatalog",value:function e(t,n){return(0,i.setIsPageAvailableInCatalog)(t,n).then(function(){return u.default.read(t)})}},{key:"setItemIsAvailableInCatalog",value:function e(t,n){return(0,l.setIsItemAvailableInCatalog)(t,n).then(function(){return d.default.read(t)})}}]);return e}();var m=s.default.createActions(c);t.default=m;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/Colors/SwatchPicker.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var u=a(n("./common/temp/node_modules/@babel/runtime/helpers/toConsumableArray.js"));var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var d=a(n("./common/temp/node_modules/lodash/find.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/color-palette.js");n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var c=n("./common/temp/node_modules/@sqs/utils/palette/index.js");var m=n("./src/main/webapp/universal/src/apps/App/shared/constants/paletteConstantsV2.js");var p=n("./src/main/webapp/universal/src/apps/App/shared/constants/ColorConfig.js");var o=a(n("./common/temp/node_modules/prop-types/index.js"));var s=n("./src/main/webapp/frontend/packages/brand/color-palette/lib/index.js");var f=a(n("./common/temp/node_modules/react/index.js"));var v=n("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var b=n("./common/temp/node_modules/@sqs/rosetta-compositions/build/lib/index.js");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),true).forEach(function(e){(0,r.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var l=function e(t){var n=t.palette,i=t.activeSlotId,l=t.onSelect;var a=n.colors.filter(function(e){var t=e.id;return!c.constants.SystemColorId[t]}).map(function(e,t){return h({},e,{name:"Custom ".concat(t+1)})});var r=m.SYSTEM_COLOR_AS_ORDERED_ARRAY_V2;var o=c.utils.sortColorsBySystemColorOrder(n.colors,r);var s=o.reduce(function(e,t){var n=(0,d.default)(p.SystemColorConfigs,{id:t.id});return n.userVisible?[].concat((0,u.default)(e),[h({},t,{name:n.name,readonly:Boolean(n.readonly)})]):e},[]).concat(a);if(s.length<=0)return null;return f.default.createElement(v.Stack,{direction:"row",justifyContent:"space-around",my:3,mx:2,space:2},s.map(function(e){var t=e.id,n=e.name,a=e.value,r=e.readonly,o=void 0!==r&&r;var s=t===i;return f.default.createElement(b.ColorPicker.Swatch.Selectable,{key:a,"data-test":"palette-sample","data-color-id":t,"data-color-value":null===a||void 0===a?void 0:a.toLowerCase(),color:a,isSelected:s,isFocused:s,onChange:function e(){return l({id:t,isReadOnly:o})}})}))};l.propTypes={className:o.default.string,SwatchClassName:o.default.string,PaletteSampleClassName:o.default.string,palette:s.PalettePropType.isRequired,activeSlotId:o.default.string,onSelect:o.default.func};var g=l;t.default=g;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/FrameToolbar.desktop.jsx":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=a(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=a(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var l=a(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=a(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var d=a(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=a(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var m=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var p=a(n("./common/temp/node_modules/classnames/index.js"));var r=a(n("./common/temp/node_modules/prop-types/index.js"));var b=a(n("./common/temp/node_modules/react/index.js"));var h=n("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var f=n("./common/temp/node_modules/@sqs/rosetta-themes/build/lib/index.js");var v=n("./common/temp/node_modules/@sqs/rosetta-styled/build/lib/index.js");var g=a(n("./src/main/webapp/frontend/packages/enums/AccessPermissions.js"));var y=a(n("./src/main/webapp/universal/src/shared/stores/AccessPermissionStore.js"));var S=n("./src/main/webapp/frontend/packages/websites-constants/lib/index.js");var o=a(n("./src/main/webapp/universal/src/apps/App/shared/constants/SectionsArea.ts"));var _=a(n("./src/main/webapp/universal/src/apps/App/shared/context/SevenOneLifecycleContext.js"));var j=a(n("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var E=a(n("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameDoneMenu.js"));var w=a(n("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarTitle.js"));var T=a(n("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarDeviceViewButton.js"));var C=a(n("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarExpandButton.js"));var x=a(n("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarSiteStylesButton.js"));var A=a(n("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarSectionAdminButton.js"));var k=a(n("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarSettingsButton.js"));var P=n("./src/main/webapp/universal/src/apps/App/shared/components/UndoStack/reduxUndoStack/UndoRedoControls.js");var I=a(n("./src/main/webapp/universal/src/apps/App/components/InEditorSurvey/index.js"));var D=a(n("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/FrameToolbar.desktop.less"));function O(r){var o=R();return function e(){var t=(0,c.default)(r),n;if(o){var a=(0,c.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,d.default)(this,n)}}function R(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var M=function(e){(0,u.default)(o,e);var r=O(o);function o(){var e;(0,s.default)(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];e=r.call.apply(r,[this].concat(n));(0,m.default)((0,l.default)(e),"handleClickTitle",function(){if(!e.props.isEditing)return;e.context.handleEditSettings()});return e}(0,i.default)(o,[{key:"renderToolbarLeft",value:function e(){var t=this.props,n=t.item,a=t.itemId,r=t.collection,o=t.isDirty,s=t.isEditing,i=t.editingSectionArea,l=t.isExpanded,u=t.isReady,d=t.itemAddText,c=t.isSaving,m=t.isSiteExpired,p=t.isSiteStylesEditing,f=t.shouldHideEditButton;if(m)return null;var v=s||p;return b.default.createElement(b.default.Fragment,null,b.default.createElement(E.default,{itemAddText:d,item:n,itemId:a,collection:r,isDirty:o,editingSectionArea:i,isSiteStylesEditing:p,isExpanded:l,isReady:u,isSaving:c,shouldHideEditButton:f}),v&&b.default.createElement(h.Box,{pl:2},b.default.createElement(P.FrameToolbarUndoRedoControls,null)))}},{key:"renderCenter",value:function e(){var t=this.props,n=t.editingSectionArea,a=t.pageTitle,r=t.isReady,o=t.isHeaderEditing,s=t.collection,i=t.item,l=t.itemId,u=t.isDirty,d=t.isExpanded,c=t.isSaving;return b.default.createElement(j.default.Title,{className:D.default.toolbarTitle},b.default.createElement(w.default,{editingSectionArea:n,pageTitle:a,isExpanded:d,isReady:r,isHeaderEditing:o,collection:s,item:i,itemId:l,isDirty:u,onClick:this.handleClickTitle,isSaving:c}))}},{key:"renderRightmostButton",value:function e(){var t=this.props,n=t.isEditing,a=t.isSiteStylesEditing,r=t.shouldHidePreviewButton;var o=y.default.hasPermission(g.default.CONFIG_SETTINGS_TEMPLATE);if(o)return n||a?b.default.createElement(x.default,{isEditing:n,isSiteStylesEditing:a}):r?null:b.default.createElement(C.default,null);return b.default.createElement(b.default.Fragment,null,b.default.createElement(k.default,null),r?null:b.default.createElement(C.default,null))}},{key:"render",value:function e(){var t;var n=this.props,a=n.className,r=n.isEditing,o=n.isHidden,s=n.deviceView,i=n.isSiteStylesEditing;var l=this.context.isTransitioningFromStylesToEditMode;return b.default.createElement(b.default.Fragment,null,r||i||l?b.default.createElement(I.default,null):null,b.default.createElement("div",{id:"frame-toolbar-desktop",role:"toolbar",className:(0,p.default)(D.default.toolbar,a,(t={},(0,m.default)(t,D.default.isExpanded,r),(0,m.default)(t,D.default.isMobile,s!==S.DeviceViewType.DESKTOP),(0,m.default)(t,D.default.hidden,o),t))},b.default.createElement(v.ThemeContext.Provider,{theme:f.rosetta.white},b.default.createElement(j.default,null,b.default.createElement(j.default.Left,null,this.renderToolbarLeft()),b.default.createElement(j.default.Center,null,this.renderCenter()),b.default.createElement(j.default.Right,null,b.default.createElement(A.default,null),b.default.createElement(T.default,null),this.renderRightmostButton())))))}}]);return o}(b.default.Component);t.default=M;(0,m.default)(M,"propTypes",{isExpanded:r.default.bool,isHidden:r.default.bool,isEditing:r.default.bool,isEditModeDisabled:r.default.bool,isDirty:r.default.bool,isReady:r.default.bool,sectionsArea:r.default.oneOf(Object.values(o.default)).isRequired,pageTitle:r.default.string,deviceView:r.default.oneOf(Object.values(S.DeviceViewType)),shouldHideEditButton:r.default.bool.isRequired,shouldHidePreviewButton:r.default.bool.isRequired});(0,m.default)(M,"contextType",_.default);e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/FrameToolbar.desktop.less":function(e,t,n){e.exports={toolbar:"aFqnhaKPx",toolbarTitle:"G5Fuqgz9n",adminButton:"_2YNEiaCTi",hidden:"_2bRZ7NHAw",buttonSelected:"_2TfRzJkGs",expandIcon:"_2YPEuspKA"}},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameDoneMenu.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var o=r(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var d=r(n("./common/temp/node_modules/@babel/runtime/regenerator/index.js"));var i=r(n("./common/temp/node_modules/@babel/runtime/helpers/asyncToGenerator.js"));var s=r(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var l=r(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var c=r(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=r(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var m=r(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var p=r(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var f=r(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var v=n("./src/main/webapp/universal/src/shared/i18n/index.ts");var b=n("./src/main/webapp/universal/src/shared/i18n/react.ts");var h=r(n("./common/temp/node_modules/classnames/index.js"));var g=r(n("./common/temp/node_modules/prop-types/index.js"));var y=r(n("./common/temp/node_modules/react/index.js"));var S=r(n("./common/temp/node_modules/alt-utils/lib/connectToStores.js"));var _=r(n("./src/main/webapp/universal/src/apps/App/shared/stores/AuthenticatedAccountStore.js"));var j=r(n("./src/main/webapp/universal/src/shared/components/ConfirmationRosetta.tsx"));var E=r(n("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var w=n("./common/temp/node_modules/@sqs/rosetta-compositions/build/lib/index.js");var T=n("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var C=n("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var x=r(n("./src/main/webapp/universal/src/apps/App/shared/context/SevenOneLifecycleContext.js"));var A=r(n("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/ItemScheduleModal.js"));var k=r(n("./src/main/webapp/universal/src/apps/ConfigWebsite/SevenOneLifecycleProvider/LifecycleActionType.js"));var P=r(n("./src/main/webapp/universal/src/apps/App/shared/actions/campaigns/BlogToEmailActions.js"));var I=r(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js"));var D=r(n("./src/main/webapp/universal/src/apps/App/shared/constants/EditingStates.js"));var O=a(n("./src/main/webapp/universal/src/shared/utils/CMSV7EventsCollectionHelpers.js"));var R=n("./src/main/webapp/universal/src/apps/App/shared/redux/CmsStoreProvider.js");var M=n("./src/main/webapp/universal/src/apps/App/shared/redux/selectors/index.js");var q=n("./src/main/webapp/universal/src/apps/App/shared/redux/actions/sectionActions.js");var F=n("./src/main/webapp/universal/src/shared/utils/ProductsUtils.js");var N=n("./src/main/webapp/frontend/packages/websites-constants/lib/index.js");var L=n("./common/temp/node_modules/@sqs/tracing/lib/index.js");var B=r(n("./src/main/webapp/universal/src/shared/stores/TweakStore.js"));var V=n("./src/main/webapp/universal/src/shared/utils/Tweaks/TweakAnalytics.js");var U=n("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/ProductDialog/WrappedProductComposer/index.tsx");var W=r(n("./src/main/webapp/universal/src/apps/App/shared/actions/FrameActions.js"));var H=r(n("./src/main/webapp/universal/src/apps/App/screens/Commerce/screens/Inventory/screens/components/EditProductModal/ProductDialogActions.ts"));var G=n("./src/main/webapp/universal/src/apps/ConfigWebsite/paths.js");var Y=r(n("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameDoneMenu.less"));function z(r){var o=X();return function e(){var t=(0,p.default)(r),n;if(o){var a=(0,p.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,m.default)(this,n)}}function X(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var K=function(e){(0,u.default)(n,e);var t=z(n);function n(e){var u;(0,s.default)(this,n);u=t.call(this,e);(0,f.default)((0,c.default)(u),"isEditingSiteStylesOnSystemPage",function(){var e=window.CONFIG_PANEL.get("router");var t=e.getCurrentLocation();var n=e.getCurrentRoute();var a=t.basename+t.pathname;var r=t.state.frameUrl;if(!a||!r)return false;return(null===n||void 0===n?void 0:n.isSiteStyles)&&G.WEBSITE_ROUTES_WHERE_EDIT_BLOCKED.some(function(e){return e===r})});(0,f.default)((0,c.default)(u),"handleDiscard",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e=!!u.isEditingSiteStylesOnSystemPage();u.fireClickMenuItemInDoneMenu("discard-open",e);u.setState({isDiscardConfirmOpen:true,isSystemPage:e})});(0,f.default)((0,c.default)(u),"handleCancel",function(){var e;u.fireClickMenuItemInDoneMenu("cancel");u.context.doDiscardChangesAndExitEditMode(null===(e=u.props.item)||void 0===e?void 0:e.fullUrl)});(0,f.default)((0,c.default)(u),"closeDiscardConfirm",function(){u.fireClickMenuItemInDoneMenu("discard-close",u.state.isSystemPage);u.setState({isDiscardConfirmOpen:false,isSystemPage:false})});(0,f.default)((0,c.default)(u),"handleDiscardSubmit",function(){u.fireClickMenuItemInDoneMenu("discard",u.state.isSystemPage);R.cmsStore.dispatch((0,q.discard)());u.setState({isDiscardConfirmOpen:false});if(u.state.isSystemPage)u.context.doDiscardSiteStylesAndExitEditMode();else{var e;u.context.doDiscardChangesAndExitEditMode(null===(e=u.props.item)||void 0===e?void 0:e.fullUrl)}u.setState({isSystemPage:false})});(0,f.default)((0,c.default)(u),"handleSaveSiteStyles",function(){u.fireClickMenuItemInDoneMenu("save",true);u.context.doSaveSiteStylesAndExitEditMode()});(0,f.default)((0,c.default)(u),"handleSave",(0,i.default)(d.default.mark(function e(){var n,a,r,o,s;return d.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:u.fireClickMenuItemInDoneMenu("save");t.prev=1;n=u.context.getIframeWindow().Static.SQUARESPACE_CONTEXT,a=n.collectionId,r=n.itemId;o=(0,M.getEditCount)(R.cmsStore.getState());s=(0,M.getNetEditCount)(R.cmsStore.getState());t.next=7;return(0,L.traceWith)(N.CMSPerformanceEvents.PAGE_EDIT_SAVE,(0,i.default)(d.default.mark(function e(){var n,a,r,o,s,i,l;return d.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:n=u.props,a=n.collection,r=n.item;if(I.default.isProducts(a)){o=r?"item":"collection";s=B.default.getState(),i=s.tweakValuesSaved,l=s.tweakValuesCurrent;(0,V.fireProductSaveTweakEvents)({tweakValuesSaved:i,tweakValuesCurrent:l,indirectObjectType:o})}t.next=4;return u.context.doSaveChangesAndExitEditMode();case 4:case"end":return t.stop()}},e)})),{spanOptions:{attributes:{collectionId:a,itemId:r}},onTraceComplete:function e(t){O.default.userSavesEditingSession({collectionId:a,itemId:r,measurement:t,editCount:o,netEditCount:s})}});case 7:t.next=12;break;case 9:t.prev=9;t.t0=t["catch"](1);u.setState({isSaveError:true});case 12:case"end":return t.stop()}},e,null,[[1,9]])})));(0,f.default)((0,c.default)(u),"handlePublish",(0,i.default)(d.default.mark(function e(){var n,a,r;return d.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:u.fireClickMenuItemInDoneMenu("publish");t.prev=1;t.next=4;return u.context.doSaveChangesAndExitEditMode({publish:true});case 4:n=u.props,a=n.item,r=n.isCampaignsBlogToEmailTutorialCompleted;I.default.isBlogPost(a)&&!r&&P.default.showDraftCreationModal({id:a.id,collectionId:a.collectionId,postUrl:a.fullUrl});t.next=11;break;case 8:t.prev=8;t.t0=t["catch"](1);u.setState({isSaveError:true});case 11:case"end":return t.stop()}},e,null,[[1,8]])})));(0,f.default)((0,c.default)(u),"handleEditSchedule",function(){u.fireClickMenuItemInDoneMenu("schedule-open");u.setState({isSchedulerModalOpen:true})});(0,f.default)((0,c.default)(u),"closeSchedulerModal",function(){u.fireClickMenuItemInDoneMenu("schedule-close");u.setState({isSchedulerModalOpen:false})});(0,f.default)((0,c.default)(u),"handleEditScheduleSubmit",function(){var t=(0,i.default)(d.default.mark(function e(n){return d.default.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:u.fireClickMenuItemInDoneMenu("schedule");u.setState({isSchedulerModalOpen:false},function(){try{u.context.doSaveChangesAndExitEditMode({scheduleOn:n})}catch(e){u.setState({isSaveError:true})}});case 2:case"end":return t.stop()}},e)}));return function(e){return t.apply(this,arguments)}}());(0,f.default)((0,c.default)(u),"handleDismissSaveError",function(){u.setState({isSaveError:false})});(0,f.default)((0,c.default)(u),"handleEditProduct",function(){var e=u.props.itemId;(0,U.shouldShowProductComposer)()?U.ProductComposerOrchestrator.openProductComposer({productId:e,onSavingClose:function e(){return W.default.refresh.defer()}}):H.default.commerceOpenCreateProductDialog({productId:e})});u.doneMenuRef=y.default.createRef();u.state={isSchedulerModalOpen:false,isDiscardConfirmOpen:false,isSaveError:false};u.hasFiredProductEditModeAssignmentEvent=false;return u}(0,l.default)(n,[{key:"fireClickMenuItemInDoneMenu",value:function e(t,n){var a=this.props,r=a.collection,o=a.itemId;O.default.clickMenuItemInDoneMenu({button:t,collectionId:n?O.SYSTEM_PAGE:null===r||void 0===r?void 0:r.id,itemId:o,editCount:(0,M.getEditCount)(R.cmsStore.getState()),netEditCount:(0,M.getNetEditCount)(R.cmsStore.getState())})}},{key:"isItemEditMode",value:function e(){return this.props.itemId}},{key:"isStoreItem",value:function e(){return I.default.isProductItem(this.props.item)}},{key:"shouldShowEditProductDropdown",value:function e(){return this.isStoreItem()&&(0,F.isEditModeV1Enabled)()}},{key:"renderNewDoneMenu",value:function e(){var l=this;var t=this.props.isSaving;var n=this.context.getButtons();if(t)return y.default.createElement("div",{className:Y.default.doneMenuParentContainer,ref:this.doneMenuRef},this.renderSpinner());var a=0===n.length;var r={};a&&(r={onClick:function e(){return l.handleCancel()}});return y.default.createElement("div",{className:(0,h.default)(Y.default.doneMenuParentContainer,(0,f.default)({},Y.default.showDoneMenuParentContainer,!a)),ref:this.doneMenuRef},y.default.createElement(E.default.Button,(0,o.default)({label:(0,v.t)("Done"),inverted:false,isDisabled:false,className:(0,h.default)(Y.default.editButton,Y.default.doneButton,(0,f.default)({},Y.default.doneButtonWithChevron,!a)),htmlAttributes:{"data-test":"frameToolbarDone"}},r)),y.default.createElement("div",{className:(0,h.default)(Y.default.doneMenuWrapper)},n.map(function(e,t){var n;var a=e.style,r=e.label,o=e.action;var s=null;var i="";if(o===k.default.DISCARD){s=l.handleDiscard;i="frameToolbarDiscard"}else if(o===k.default.SAVE){s=l.handleSave;i="frameToolbarSave"}else if(o===k.default.SAVE_SITE_STYLES){s=l.handleSaveSiteStyles;i="frameToolbarSave"}else if(o===k.default.DISCARD_SITE_STYLES){s=function e(){return l.handleDiscard(true)};i="frameToolbarDiscard"}else if(o===k.default.PUBLISH)s=l.handlePublish;else if(o===k.default.EDIT_SCHEDULE)s=l.handleEditSchedule;else if(o===k.default.CANCEL){s=l.handleCancel;i="frameToolbarCancel"}return y.default.createElement("button",{key:"".concat(r,"-").concat(t),className:(0,h.default)(Y.default.doneMenuItem,(n={},(0,f.default)(n,Y.default.doneMenuItemCancel,"cancel"===a),(0,f.default)(n,Y.default.doneMenuItemBold,"bold"===a),n)),onClick:s,"data-test":i},r)})))}},{key:"renderSpinner",value:function e(){return y.default.createElement("div",{className:Y.default.loadingIndicator},y.default.createElement(C.ActivityIndicator,{size:"sizes.100"}))}},{key:"renderEditButton",value:function e(){var t=this.props,n=t.itemId,a=t.itemAddText;var r=(0,v.t)("Edit");n&&a&&(r=a);return y.default.createElement(E.default.Button,{className:Y.default.editButton,label:r,onClick:this.context.handleEdit,inverted:false,htmlAttributes:{"data-test":"frameToolbarEdit"}})}},{key:"renderEditDesignButton",value:function e(){return y.default.createElement(E.default.Button,{className:Y.default.editButton,label:(0,v.t)("Edit Design"),inverted:false,onClick:this.context.handleEditDesign})}},{key:"renderEditProductDropdown",value:function e(){return y.default.createElement("div",{className:(0,h.default)(Y.default.doneMenuParentContainer,Y.default.showDoneMenuParentContainer),ref:this.doneMenuRef},y.default.createElement(E.default.Button,{label:(0,v.t)("Edit"),inverted:false,isDisabled:false,className:(0,h.default)(Y.default.editButton,Y.default.doneButton,Y.default.doneButtonWithChevron),htmlAttributes:{"data-test":"frameToolbarEditProductDropdown"}}),y.default.createElement("div",{className:(0,h.default)(Y.default.doneMenuWrapper,Y.default.productDropdown)},y.default.createElement(T.Touchable,{css:{textAlign:"left",margin:"0 !important"},onClick:this.handleEditProduct,interaction:function e(t){return y.default.createElement(T.Touchable.Solid,(0,o.default)({},t,{display:"block"}))}},y.default.createElement(T.Text.Action,{px:4,py:2,display:"block","data-test":"frameToolbarEditProduct"},y.default.createElement(b.T,{project:"src.seven-one"},"Edit Product"))),y.default.createElement(T.Touchable,{css:{textAlign:"left",margin:"0 !important"},onClick:this.context.handleEdit,interaction:function e(t){return y.default.createElement(T.Touchable.Solid,(0,o.default)({},t,{display:"block"}))}},y.default.createElement(T.Text.Action,{px:4,py:2,display:"block","data-test":"frameToolbarEditProductDesign"},y.default.createElement(b.T,{project:"src.seven-one"},"Edit Design")))))}},{key:"renderToolbarLeft",value:function e(){var t=this.props,n=t.isDirty,a=t.editingSectionArea,r=t.isExpanded,o=t.isReady,s=t.isSiteStylesEditing,i=t.shouldHideEditButton;var l=a!==D.default.NOT_EDITING;if(i)return null;if(l&&n||s)return this.renderNewDoneMenu();if(l){if(!o||!r)return this.renderSpinner();return this.renderNewDoneMenu()}if(this.shouldShowEditProductDropdown())return this.renderEditProductDropdown();var u=this.isStoreItem()&&!(0,F.isEditModeV1Enabled)();return y.default.createElement(y.default.Fragment,null,this.renderEditButton(),u&&this.renderEditDesignButton())}},{key:"renderPageConfirmModal",value:function e(){var t;return y.default.createElement(j.default,{isOpen:this.state.isDiscardConfirmOpen,onConfirm:this.handleDiscardSubmit,onCancel:this.closeDiscardConfirm,title:(0,v.t)("Discard Changes"),message:(0,v.t)("Are you sure you want to discard your changes?"),confirmLabel:(0,v.t)("Discard"),cancelText:(0,v.t)("Cancel"),position:null===(t=this.doneMenuRef)||void 0===t?void 0:t.current,anchor:"top-left",hasMargin:true})}},{key:"renderItemSchedulerModal",value:function e(){if(!this.isItemEditMode())return null;var t=this.props.item;if(!t)return null;return y.default.createElement(A.default,{key:"scheduler",isOpen:this.state.isSchedulerModalOpen,onSave:this.handleEditScheduleSubmit,onRequestClose:this.closeSchedulerModal,anchorRef:this.doneMenuRef,value:t.publishOn})}},{key:"renderSaveError",value:function e(){return y.default.createElement(C.Modal.Transition,null,this.state.isSaveError&&y.default.createElement(C.Modal,null,y.default.createElement(C.Modal.Position,{position:"center"},y.default.createElement(w.AlertDialog,{title:(0,v.t)("Couldn't Save Information"),message:(0,v.t)("Try reloading the page. If the problem persists, contact us."),buttons:[y.default.createElement(w.AlertDialog.Button,{onClick:this.handleDismissSaveError},y.default.createElement(b.T,{project:"src.seven-one"},"OK"))]}))))}},{key:"render",value:function e(){return y.default.createElement(y.default.Fragment,null,this.renderToolbarLeft(),this.renderPageConfirmModal(),this.renderItemSchedulerModal(),this.renderSaveError())}}],[{key:"getStores",value:function e(){return[_.default]}},{key:"getPropsFromStores",value:function e(){var t=_.default.isTutorialCompleted("CAMPAIGNS_BLOG_TO_EMAIL_MODAL");return{isCampaignsBlogToEmailTutorialCompleted:t}}}]);return n}(y.default.Component);(0,f.default)(K,"propTypes",{isExpanded:g.default.bool,isHidden:g.default.bool,isEditing:g.default.bool,isEditModeDisabled:g.default.bool,isDirty:g.default.bool,isReady:g.default.bool,pageTitle:g.default.string,shouldHideEditButton:g.default.bool,isCampaignsBlogToEmailTutorialCompleted:g.default.bool});(0,f.default)(K,"contextType",x.default);var J=(0,S.default)(K);t.default=J;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameDoneMenu.less":function(e,t,n){e.exports={editButton:"_3VRcd9E3s",doneButton:"_1FXC_7zaF",doneButtonWithChevron:"_3Z6ClLRuM",loadingIndicator:"dqDQk6iI9",doneMenuParentContainer:"_1riV1-2A1",doneMenuWrapper:"_3yJZCdp9v",productDropdown:"X8IaDCDYP",showDoneMenuParentContainer:"_2IDDPWPaE",doneMenuItem:"_1Jq00D42_",doneMenuItemBold:"_1BwtdCfmS",doneMenuItemCancel:"oRsR1ebb9"}},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarDeviceViewButton.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var i=a(n("./common/temp/node_modules/react/index.js"));var l=n("./src/main/webapp/universal/src/shared/i18n/index.ts");var r=n("./src/main/webapp/universal/src/apps/App/shared/redux/CmsStoreProvider.js");var o=n("./src/main/webapp/universal/src/apps/App/shared/redux/selectors/index.js");var s=a(n("./src/main/webapp/universal/src/apps/App/shared/constants/EditingStates.js"));var u=n("./src/main/webapp/universal/src/apps/App/shared/redux/actions/frameDisplayActions.js");var d=a(n("./src/main/webapp/universal/src/apps/App/components/SevenOneUserSurvey/flux/actions.js"));var c=n("./src/main/webapp/frontend/packages/websites-constants/lib/index.js");var m=a(n("./src/main/webapp/universal/src/shared/utils/SevenOneLifecycleStoreConnector.js"));var p=a(n("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var f=a(n("./src/main/webapp/universal/src/apps/App/shared/components/Tooltip.js"));var v=n("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/index.js");var b=a(n("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/FrameToolbar.desktop.less"));function h(e){var t=e.isSaving,n=e.onToggleDeviceView,a=e.deviceView,r=e.isEditing;var o=a===c.DeviceViewType.DESKTOP?(0,l.t)("Mobile Preview"):(0,l.t)("Desktop View");var s=a===c.DeviceViewType.DESKTOP?void 0:b.default.buttonSelected;return i.default.createElement(f.default,{content:o},i.default.createElement(p.default.IconButton,{"aria-label":(0,l.t)("Toggle device view"),isDisabled:t,onClick:function e(){d.default.userTogglesDeviceView(a!==c.DeviceViewType.DESKTOP);n("frame-toolbar",r)},className:s},i.default.createElement(v.Mobile,null)))}var g=(0,r.cmsStoreConnect)(function(e){return{deviceView:(0,o.getFrameDeviceView)(e),isEditing:(0,o.getEditingSectionArea)(e)!==s.default.NOT_EDITING}},{onToggleDeviceView:u.toggleDeviceView})((0,m.default)(h));t.default=g;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarExpandButton.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:true});t.ExpandButton=m;t.default=void 0;n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var o=r(n("./common/temp/node_modules/react/index.js"));var s=n("./src/main/webapp/universal/src/shared/i18n/index.ts");var i=a(n("./src/main/webapp/universal/src/apps/App/shared/actions/FrameActions.js"));var l=a(n("./src/main/webapp/universal/src/shared/utils/SevenOneLifecycleStoreConnector.js"));var u=a(n("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var d=a(n("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/icons/arrowup.svg"));var c=a(n("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/FrameToolbar.desktop.less"));function m(e){var t=e.isEditing;var n=(0,o.useCallback)(function(){return i.default.toggleExpanded()},[]);return!t&&o.default.createElement(u.default.IconButton,{"aria-label":(0,s.t)("Toggle expand page preview"),url:d.default,onClick:n,iconClassName:c.default.expandIcon})}var p=(0,l.default)(m);t.default=p},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarSectionAdminButton.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:true});t.SectionAdminButton=b;t.default=void 0;n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var i=r(n("./common/temp/node_modules/react/index.js"));var l=n("./src/main/webapp/universal/src/shared/i18n/index.ts");var o=a(n("./src/main/webapp/frontend/packages/enums/Flag.js"));var s=n("./src/main/webapp/frontend/packages/universal-flags/lib/index.js");var u=a(n("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var d=a(n("./src/main/webapp/universal/src/shared/utils/SevenOneLifecycleStoreConnector.js"));var c=a(n("./src/main/webapp/universal/src/apps/App/shared/actions/CollectionAndItemCatalogTaxonomyActions.js"));var m=a(n("./src/main/webapp/universal/src/apps/App/shared/actions/PageAdminActions.js"));var p=a(n("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/FrameToolbar.desktop.less"));var f=a(n("./src/main/webapp/universal/src/apps/App/shared/constants/EditingStates.js"));var v=s.legacyV6Flags.isFeatureEnabled(o.default.SECTION_ADMIN);function b(e){var t=e.collectionId,n=e.editingSectionArea,a=e.isSaving,r=e.itemId;var o=n!==f.default.NOT_EDITING;var s=(0,i.useCallback)(function(){c.default.loadCategories(t,r);m.default.open()},[t,r]);return o&&v&&i.default.createElement(u.default.IconButton,{"aria-label":(0,l.t)("Open admin settings"),isDisabled:a,onClick:s},i.default.createElement("div",{className:p.default.adminButton}))}var h=(0,d.default)(b);t.default=h},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarSettingsButton.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:true});t.SettingsButton=c;t.default=void 0;n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var o=r(n("./common/temp/node_modules/react/index.js"));var s=n("./src/main/webapp/universal/src/shared/i18n/index.ts");var i=a(n("./src/main/webapp/universal/src/shared/utils/SevenOneLifecycleStoreConnector.js"));var l=a(n("./src/main/webapp/universal/src/apps/App/shared/context/SevenOneLifecycleContext.js"));var u=a(n("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var d=a(n("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/icons/settings.svg"));function c(e){var t=e.isEditing,n=e.isSaving;var a=(0,o.useContext)(l.default),r=a.handleEditSettings;return t&&o.default.createElement(u.default.IconButton,{"aria-label":(0,s.t)("Edit page settings"),htmlAttributes:{"data-test":"frameToolbarSettings"},url:d.default,isDisabled:n,onClick:r})}var m=(0,i.default)(c);t.default=m},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarSiteStylesButton.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var o=r(n("./common/temp/node_modules/react/index.js"));var c=n("./src/main/webapp/universal/src/shared/i18n/index.ts");var m=n("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/index.js");var p=n("./src/main/webapp/universal/src/shared/utils/CMSV7Events/frameToolbar.ts");var s=a(n("./src/main/webapp/universal/src/shared/utils/SevenOneLifecycleStoreConnector.js"));var f=a(n("./src/main/webapp/universal/src/apps/App/shared/context/SevenOneLifecycleContext.js"));var v=a(n("./common/temp/node_modules/@sqs/core-components/navigation/Toolbar.js"));var b=a(n("./src/main/webapp/universal/src/apps/App/shared/components/Tooltip.js"));function i(e){var t=e.isSaving,s=e.isSiteStylesEditing,i=e.siteTitle;var n=(0,o.useContext)(f.default),l=n.doEnterSiteStylesEditing,u=n.doExitSiteStylesEditing,d=n.getIframeWindow;var a=function e(t){var n,a;t.stopPropagation();if(!i)return;var r=d();var o=null===r||void 0===r?void 0:null===(n=r.Static)||void 0===n?void 0:null===(a=n.SQUARESPACE_CONTEXT)||void 0===a?void 0:a.collectionId;if(s){(0,p.userToggleSiteStylesPaintbrush)("close",o);u()}else{(0,p.userToggleSiteStylesPaintbrush)("open",o);l()}};return o.default.createElement(b.default,{content:(0,c.t)("Site Styles")},o.default.createElement(v.default.IconButton,{"aria-label":(0,c.t)("Toggle Site Styles editing"),isActive:s,isDisabled:t,onClick:a,htmlAttributes:{"data-test":"frameToolbarSiteStyles"}},o.default.createElement(m.Style,null)))}var l=(0,s.default)(i);t.default=l;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarTitle.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=a(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=a(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var l=a(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=a(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var d=a(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=a(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var v=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var b=a(n("./common/temp/node_modules/react/index.js"));var r=a(n("./common/temp/node_modules/prop-types/index.js"));var h=a(n("./common/temp/node_modules/lodash/isString.js"));var g=a(n("./common/temp/node_modules/classnames/index.js"));var y=n("./src/main/webapp/universal/src/shared/i18n/index.ts");var S=n("./src/main/webapp/universal/src/shared/i18n/react.ts");var _=n("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/utils/ToolbarTitleUtils.js");var j=a(n("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarTitle.less"));var E=a(n("./src/main/webapp/universal/src/apps/App/shared/constants/EditingStates.js"));function m(r){var o=p();return function e(){var t=(0,c.default)(r),n;if(o){var a=(0,c.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,d.default)(this,n)}}function p(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var o=/&amp;/g;function w(e){return e.replace(o,"&")}var f=function(e){(0,u.default)(o,e);var r=m(o);function o(){var a;(0,s.default)(this,o);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a=r.call.apply(r,[this].concat(t));(0,v.default)((0,l.default)(a),"handleClick",function(){var e=a.props,t=e.onClick,n=e.isSaving;if(n)return;t&&t()});return a}(0,i.default)(o,[{key:"render",value:function e(){var t;var n=this.props,a=n.className,r=n.collection,o=n.item,s=n.isReady,i=n.itemId,l=n.isDirty,u=n.editingSectionArea,d=n.isHeaderEditing,c=n.isSaving;var m=u!==E.default.NOT_EDITING;if(m){if(u===E.default.FOOTER)return(0,y.t)("Editing Site Footer");if(d)return(0,y.t)("Editing Site Header")}if(!s)return null;if(!i&&!r)return null;if(i&&!o)return null;var p=null;p=i&&o?o.title:r.title;p=!p||(0,h.default)(p)&&0===p.trim().length?b.default.createElement("span",{className:j.default.noTitle},b.default.createElement(S.T,{project:"src.seven-one"},"No Title")):w(p);var f=(0,_.getSecondaryTitle)({collection:r,item:o,isSaving:c});return b.default.createElement("div",{className:(0,g.default)(j.default.toolbarTitleStacked,a,(t={},(0,v.default)(t,j.default.toolbarTitleDirty,!c&&l),(0,v.default)(t,j.default.toolbarTitleEditing,!c&&m),t)),onClick:this.handleClick},b.default.createElement("div",{"data-test":"frame-toolbar-title",className:j.default.toolbarStackedTitle},p),b.default.createElement("div",{className:j.default.toolbarStackedState},f))}}]);return o}(b.default.Component);t.default=f;(0,v.default)(f,"propTypes",{className:r.default.string,editingSectionArea:r.default.string,pageTitle:r.default.string,isDirty:r.default.bool,isReady:r.default.bool,isHeaderEditing:r.default.bool,collection:r.default.object,item:r.default.object,itemId:r.default.string,onClick:r.default.func,isSaving:r.default.bool});e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/FrameToolbarTitle.less":function(e,t,n){e.exports={toolbarTitleStacked:"_39q0B0v1w",toolbarTitleEditing:"zB8nbatYM",toolbarTitleDirty:"_3HhE8ZYXr",toolbarStackedState:"_9osot1ZA4",toolbarStackedTitle:"_2PNxdPIxN",noTitle:"qdtADwmMq"}},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/ItemScheduleModal.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var s=r(n("./common/temp/node_modules/@babel/runtime/helpers/classCallCheck.js"));var i=r(n("./common/temp/node_modules/@babel/runtime/helpers/createClass.js"));var l=r(n("./common/temp/node_modules/@babel/runtime/helpers/assertThisInitialized.js"));var u=r(n("./common/temp/node_modules/@babel/runtime/helpers/inherits.js"));var d=r(n("./common/temp/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"));var c=r(n("./common/temp/node_modules/@babel/runtime/helpers/getPrototypeOf.js"));var m=r(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var p=a(n("./common/temp/node_modules/react/index.js"));var o=r(n("./common/temp/node_modules/prop-types/index.js"));var f=n("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var v=n("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var b=r(n("./common/temp/node_modules/@sqs/core-components/lib/web/DateTimeField.js"));var h=r(n("./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/ItemScheduleModal.less"));var g=n("./src/main/webapp/universal/src/shared/i18n/index.ts");var y=n("./src/main/webapp/universal/src/shared/i18n/react.ts");function S(r){var o=_();return function e(){var t=(0,c.default)(r),n;if(o){var a=(0,c.default)(this).constructor;n=Reflect.construct(t,arguments,a)}else n=t.apply(this,arguments);return(0,d.default)(this,n)}}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if("function"===typeof Proxy)return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}var j=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===t?"":(0,g.formatDateTime)(t,"LLLLT")};var E=864e5;var w=function(e){(0,u.default)(o,e);var r=S(o);function o(){var t;(0,s.default)(this,o);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];t=r.call.apply(r,[this].concat(n));(0,m.default)((0,l.default)(t),"state",{value:null,isOpen:false});(0,m.default)((0,l.default)(t),"handleDateChange",function(e){t.setState({value:e})});(0,m.default)((0,l.default)(t),"handleScheduleClick",function(){t.props.onSave(t.getValue());t.setState({isOpen:false,value:null})});(0,m.default)((0,l.default)(t),"handleCancelClick",function(){t.setState({isOpen:false,value:null});t.props.onRequestClose()});return t}(0,i.default)(o,[{key:"getValue",value:function e(){if(null!==this.state.value)return this.state.value;return this.props.value}},{key:"render",value:function e(){var t=this.props.onRequestClose;var n=this.state,a=n.isOpen,r=n.openTime;var o=this.getValue();return p.default.createElement(f.Modal.Transition,null,a&&p.default.createElement(f.Modal,{className:h.default.modal,onRequestClose:t},p.default.createElement(f.Modal.Position,{position:"center"},p.default.createElement(f.Modal.Dialog,null,p.default.createElement(v.Box,{p:2},p.default.createElement("div",{tabIndex:0,style:{outline:"none"}},p.default.createElement("div",{className:h.default.actionButtons},p.default.createElement(v.Button.Tertiary,{onClick:this.handleCancelClick},p.default.createElement(y.T,{project:"src.seven-one"},"Cancel")),p.default.createElement(v.Button.Tertiary,{onClick:this.handleScheduleClick},p.default.createElement(y.T,{project:"src.seven-one"},"Schedule"))),p.default.createElement("div",{className:h.default.titles},p.default.createElement(v.Text.Title,null,p.default.createElement(y.T,{project:"src.seven-one"},"Date & Time")),p.default.createElement(v.Text.Subtitle,null,j(o))),p.default.createElement(b.default,{className:h.default.dateTimeField,mode:"datetime",onChange:this.handleDateChange,value:o,disable:[{before:r-E}]})))))))}}],[{key:"getDerivedStateFromProps",value:function e(t,n){var a={};if(t.isOpen&&!n.isOpen){a.isOpen=true;a.openTime=Date.now()}!t.isOpen&&n.isOpen&&(a.isOpen=false);return a}}]);return o}(p.Component);t.default=w;(0,m.default)(w,"propTypes",{isOpen:o.default.bool,value:o.default.number,onSave:o.default.func,onRequestClose:o.default.func,anchorRef:o.default.object});e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/components/ItemScheduleModal.less":function(e,t,n){e.exports={titles:"_36oUKn4R_",dateLabel:"_3guBiptbh",dateTimeField:"_45xf2yFIm",actionButtons:"_4o48sFJVV"}},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/icons/arrowup.svg":function(e,t){e.exports="data:image/svg+xml,%3csvg width='16' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M3 6l2-2h10v10l-2 2V7.414L1.707 18.707.293 17.293 11.586 6H3z' fill='%23313131'/%3e%3c/svg%3e"},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/icons/settings.svg":function(e,t){e.exports="data:image/svg+xml,%3csvg width='22' height='22' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3ccircle cx='11' cy='11' r='6.5' stroke='%23313131' stroke-width='2'/%3e%3cpath d='M11 1v3M11 18v3M1 11h3M18 11h3M3.929 3.929L6.05 6.05M15.95 15.95l2.121 2.121M3.929 18.071L6.05 15.95M15.95 6.05L18.07 3.93' stroke='%23313131' stroke-width='2'/%3e%3c/svg%3e"},"./src/main/webapp/universal/src/apps/App/shared/components/FrameToolbar/utils/ToolbarTitleUtils.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.getSecondaryTitle=h;var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var o=a(n("./common/temp/node_modules/react/index.js"));var s=n("./src/main/webapp/universal/src/shared/i18n/index.ts");var i=a(n("./src/main/webapp/frontend/packages/enums/WorkflowStates.js"));var l=a(n("./src/main/webapp/universal/src/apps/App/screens/ContentBrowser/ContentBrowserAPI.js"));var u,d,c,m;var p=[{test:function e(t){return l.default.isBlog(t)},labels:(u={},(0,r.default)(u,i.default.DRAFT,(0,s.t)("Draft")),(0,r.default)(u,i.default.NEEDS_REVIEW,(0,s.t)("Needs Review")),(0,r.default)(u,i.default.PUBLISHED,(0,s.t)("Published")),(0,r.default)(u,i.default.SCHEDULED,(0,s.t)("Scheduled")),u),itemTypeLabel:(0,s.t)("Post")},{test:function e(t){return l.default.isPortfolio(t)},labels:(d={},(0,r.default)(d,i.default.DRAFT,(0,s.t)("Draft")),(0,r.default)(d,i.default.NEEDS_REVIEW,(0,s.t)("Needs Review")),(0,r.default)(d,i.default.PUBLISHED,(0,s.t)("Published")),(0,r.default)(d,i.default.SCHEDULED,(0,s.t)("Scheduled")),d),itemTypeLabel:(0,s.t)("Project")},{test:function e(t){return l.default.isEvents(t)},labels:(c={},(0,r.default)(c,i.default.DRAFT,(0,s.t)("Draft")),(0,r.default)(c,i.default.NEEDS_REVIEW,(0,s.t)("Needs Review")),(0,r.default)(c,i.default.PUBLISHED,(0,s.t)("Published")),(0,r.default)(c,i.default.SCHEDULED,(0,s.t)("Scheduled")),c),itemTypeLabel:(0,s.t)("Event")},{test:function e(t){return l.default.isProducts(t)},labels:(m={},(0,r.default)(m,i.default.DRAFT,(0,s.t)("Hidden")),(0,r.default)(m,i.default.NEEDS_REVIEW,(0,s.t)("Needs Review")),(0,r.default)(m,i.default.PUBLISHED,(0,s.t)("Visible")),(0,r.default)(m,i.default.SCHEDULED,(0,s.t)("Scheduled")),m),itemTypeLabel:(0,s.t)("Product")}];var f=[{test:function e(t){return l.default.isBlog(t)},labels:{published:(0,s.t)("Published"),disabled:(0,s.t)("Disabled"),passwordProtected:(0,s.t)("Password Protected")},collectionTypeLabel:(0,s.t)("Blog")},{test:function e(t){return l.default.isPortfolio(t)},labels:{published:(0,s.t)("Published"),disabled:(0,s.t)("Disabled"),passwordProtected:(0,s.t)("Password Protected")},collectionTypeLabel:(0,s.t)("Portfolio")},{test:function e(t){return l.default.isEvents(t)},labels:{published:(0,s.t)("Published"),disabled:(0,s.t)("Disabled"),passwordProtected:(0,s.t)("Password Protected")},collectionTypeLabel:(0,s.t)("Events")},{test:function e(t){return l.default.isProducts(t)},labels:{published:(0,s.t)("Published"),disabled:(0,s.t)("Disabled"),passwordProtected:(0,s.t)("Password Protected")},collectionTypeLabel:(0,s.t)("Products")},{test:function e(t){return l.default.isPage(t)},labels:{published:(0,s.t)("Published"),disabled:(0,s.t)("Disabled"),passwordProtected:(0,s.t)("Password Protected")},collectionTypeLabel:(0,s.t)("Page")}];function v(e){var t=e.collection,n=e.item;if(!t)return null;var a=l.default.getCollection(t.id);if(!a)return null;var r=p.find(function(e){return e.test(a)});if(!r)return null;if(r.labels.hasOwnProperty(n.workflowState))return o.default.createElement("span",null,r.itemTypeLabel," · ",r.labels[n.workflowState]);return r.itemTypeLabel}function b(e){var t=l.default.getCollection(e.id);if(!t)return null;var n=f.find(function(e){return e.test(t)});if(!n)return null;var a=n.labels.published;e.enabled?e.passwordProtected&&(a=n.labels.passwordProtected):a=n.labels.disabled;return o.default.createElement("span",null,n.collectionTypeLabel," · ",a)}function h(e){var t=e.collection,n=e.item,a=e.isSaving;if(a)return(0,s.t)("Saving…");if(n)return v({collection:t,item:n});if(t)return b(t);return null}},"./src/main/webapp/universal/src/apps/App/shared/components/IconButton.jsx":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var o=a(n("./common/temp/node_modules/react/index.js"));var s=n("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var i=function e(n){return o.default.createElement(s.Touchable,(0,r.default)({hitSlop:11,interaction:function e(t){return o.default.createElement(s.Touchable.Solid,(0,r.default)({sx:{border:t.disabled||!t.focused?0:1,borderColor:t.disabled?"transparent":"gray.100",borderRadius:n.borderRadius||"circle",size:"sizes.200","&:hover":{backgroundColor:t.disabled?"transparent":n.isOnWhiteBg?"gray.900":"gray.800"}}},t))}},n))};var l=i;t.default=l;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/Tooltip.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var u=r(n("./common/temp/node_modules/@babel/runtime/helpers/slicedToArray.js"));var d=r(n("./common/temp/node_modules/lodash/noop.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var c=a(n("./common/temp/node_modules/react/index.js"));var o=r(n("./common/temp/node_modules/prop-types/index.js"));var m=n("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var p=n("./common/temp/node_modules/@sqs/rosetta-elements/build/lib/index.js");var s=function e(t){var n=t.content,a=t.children;var r=(0,c.useState)(false),o=(0,u.default)(r,2),s=o[0],i=o[1];var l=(0,c.useRef)(null);(0,c.useEffect)(function(){var e=function e(){i(false)};var t=document.querySelector(".sqs-damask-panel-content");t&&t.addEventListener("scroll",e);return function(){t&&t.removeEventListener("scroll",e);e()}},[]);return c.default.createElement(c.default.Fragment,null,c.default.createElement(m.Box,{ref:l,onMouseEnter:function e(){return i(true)},onFocus:function e(){return i(true)},onMouseLeave:function e(){return i(false)},onBlur:function e(){return i(false)}},a),n&&s&&l.current?c.default.createElement(p.Tooltip,{anchor:l.current,isOpen:s,position:"bottom",delay:{enter:120},onRequestClose:d.default},n):null)};s.propTypes={content:o.default.string};var i=s;t.default=i;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/components/UndoStack/reduxUndoStack/UndoRedoControls.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireWildcard.js");var r=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.FrameToolbarUndoRedoControls=t.TransitionOpacityInAndOut=void 0;var o=r(n("./common/temp/node_modules/@babel/runtime/helpers/extends.js"));var s=r(n("./common/temp/node_modules/@babel/runtime/helpers/objectWithoutProperties.js"));n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var b=a(n("./common/temp/node_modules/react/index.js"));var i=r(n("./common/temp/node_modules/prop-types/index.js"));var h=n("./common/temp/node_modules/react-transition-group/esm/index.js");var u=n("./common/temp/node_modules/@sqs/rosetta-tokens/build/lib/index.js");var d=n("./common/temp/node_modules/@sqs/rosetta-icons/build/lib/index.js");var c=n("./common/temp/node_modules/@sqs/rosetta-primitives/build/lib/index.js");var g=n("./common/temp/node_modules/@sqs/rosetta-styled/build/lib/index.js");var m=n("./src/main/webapp/universal/src/shared/i18n/index.ts");var l=n("./src/main/webapp/universal/src/apps/App/shared/redux/CmsStoreProvider.js");var p=n("./src/main/webapp/universal/src/apps/App/shared/redux/actions/cmsUndoStackActions.js");var f=n("./src/main/webapp/universal/src/apps/App/shared/redux/selectors/index.js");var v=r(n("./src/main/webapp/universal/src/apps/App/shared/components/IconButton.jsx"));var y=n("./src/main/webapp/universal/src/shared/utils/CMSV7Events/helpPanel.ts");var S=function e(t){var n=t.children,a=t.in;var r=(0,g.useTheme)(),o=r.easing,s=r.time;var i=s["300"];var l=s["300"];var u=o.product.entrance;var d=o.product.exit;var c=(0,b.useCallback)(function(e){e.style.display="block";e.style.transitionTimingFunction=u;e.style.transitionDuration=i;e.style.transitionProperty="opacity";e.style.opacity=0},[u,i]);var m=(0,b.useCallback)(function(e){e.style.opacity=1},[]);var p=(0,b.useCallback)(function(e){e.style.display="block";e.style.transitionTimingFunction=d;e.style.transitionDuration=l;e.style.transitionProperty="opacity";e.style.opacity=1},[d,l]);var f=(0,b.useCallback)(function(e){e.style.opacity=0},[]);var v=(0,b.useCallback)(function(e){e.style.display="";e.style.transitionTimingFunction="";e.style.transitionDuration="";e.style.transitionProperty="";e.style.opacity=""},[]);return b.default.createElement(h.Transition,{in:a,appear:true,mountOnEnter:true,unmountOnExit:true,onEnter:c,onEntering:m,onEntered:v,onExit:p,onExiting:f,onExited:v,timeout:{enter:parseInt(i,10),exit:parseInt(l,10)}},n)};t.TransitionOpacityInAndOut=S;var _=function e(t){var n=t.canUndo,a=t.canRedo,r=t.onUndo,o=t.onRedo,s=t.compact,i=t.isInSiteStylesPanel;var l=b.default.createElement(v.default,{"aria-label":(0,m.t)("Redo"),borderRadius:u.radii[1],isOnWhiteBg:!i,style:{margin:i?0:"8px",padding:0,opacity:a?1:.2},disabled:!a,onClick:function e(t){t.stopPropagation();o()}},b.default.createElement(d.Redo,null));return b.default.createElement(c.Flex,{justifyContent:"flex-end","data-sqs-keep-editors-open":true},b.default.createElement(v.default,{"aria-label":(0,m.t)("Undo"),borderRadius:u.radii[1],isOnWhiteBg:!i,style:{margin:0,padding:0,opacity:n?1:.2},disabled:!n,onClick:function e(t){t.stopPropagation();r()}},b.default.createElement(d.Undo,null)),s?b.default.createElement(S,{in:a},l):l)};_.propTypes={compact:i.default.bool,canUndo:i.default.bool,canRedo:i.default.bool,onUndo:i.default.func.isRequired,onRedo:i.default.func.isRequired};var j=(0,l.cmsStoreConnect)(function(e){return{canUndo:(0,f.getCanUndo)(e),canRedo:(0,f.getCanRedo)(e)}},{onUndo:p.undo,onRedo:p.redo});var E=function e(t){var n=t.onUndo,a=t.onRedo,r=(0,s.default)(t,["onUndo","onRedo"]);return b.default.createElement(_,(0,o.default)({},r,{onUndo:function e(){n();(0,y.userTriggersFrameToolbarUndo)({isFromKeyboardShortcut:false,editCount:(0,f.getEditCount)(l.cmsStore.getState()),netEditCount:(0,f.getNetEditCount)(l.cmsStore.getState())})},onRedo:function e(){a();(0,y.userTriggersFrameToolbarRedo)({isFromKeyboardShortcut:false,editCount:(0,f.getEditCount)(l.cmsStore.getState()),netEditCount:(0,f.getNetEditCount)(l.cmsStore.getState())})}}))};var w=j(E);t.FrameToolbarUndoRedoControls=w},"./src/main/webapp/universal/src/apps/App/shared/utils/CatalogTaxonomyAPI.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/@sqs/network/lib/index.js"));var o="/api/catalog-taxonomy";var s=function e(t){return r.default.get("".concat(o,"/collection/").concat(t,"/categories"))};var i=function e(t,n){return r.default.post("".concat(o,"/collection/").concat(t,"/categories"),{categoryName:n})};var l=function e(t,n){return r.default.delete("".concat(o,"/collection/").concat(t,"/categories/").concat(n))};var u=function e(t,n){return r.default.get("".concat(o,"/collection/").concat(t,"/item/").concat(n,"/categories"))};var d=function e(t,n,a){return r.default.post("".concat(o,"/collection/").concat(t,"/item/").concat(n,"/categories"),{categoryName:a})};var c=function e(t,n,a){return r.default.delete("".concat(o,"/collection/").concat(t,"/item/").concat(n,"/categories/").concat(a))};var m={loadItemCategories:u,loadPageCategories:s,removeItemCategory:c,removePageCategory:l,saveItemCategory:d,savePageCategory:i};t.default=m;e.exports=t.default},"./src/main/webapp/universal/src/apps/App/shared/utils/ItemCatalogAPI.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.setIsItemAvailableInCatalog=o;var r=a(n("./common/temp/node_modules/@sqs/network/lib/index.js"));function o(e,t){return r.default.put("/api/item-catalog/item/".concat(e,"/available?availableInCatalog=").concat(t))}},"./src/main/webapp/universal/src/apps/App/shared/utils/PageCatalogAPI.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.setIsPageAvailableInCatalog=o;var r=a(n("./common/temp/node_modules/@sqs/network/lib/index.js"));function o(e,t){return r.default.put("/api/page-catalog/collection/".concat(e,"/available?availableInCatalog=").concat(t))}},"./src/main/webapp/universal/src/apps/App/utils/commercePricingFlags.ts":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.isAutomaticTaxCalcsEnabled=p;t.isTaxSurveyEnabled=f;t.isProductTaxCategoriesEnabled=v;var r=a(n("./common/temp/node_modules/lodash/get.js"));var o=n("./src/main/webapp/frontend/packages/universal-flags/lib/index.js");var s=a(n("./src/main/webapp/frontend/packages/enums/Flag.js"));var i=n("./common/temp/node_modules/@sqs/praetor/build/module/index.js");var l={TEST_NAME:"automatic-tax-calcs",DEFAULT_VARIANT:"off",ACTIVE_VARIANT:"on"};var u={TEST_NAME:"show-tax-survey",DEFAULT_VARIANT:"false",ACTIVE_VARIANT:"true"};var d={TEST_NAME:"use-product-tax-categories",DEFAULT_VARIANT:"false",ACTIVE_VARIANT:"true"};var c=function e(){return(0,r.default)(window,["Static","SQUARESPACE_CONTEXT","commerceSettings","commercePricingExperimentList"],[])};var m=new i.StaticPraetorClient({isConfigurationLoaded:true,experimentContextList:c()});function p(){var e=m.getABTestVariant(l.TEST_NAME,l.DEFAULT_VARIANT),t=e.variant;return t===l.ACTIVE_VARIANT||o.legacyV6Flags.isFeatureEnabled(s.default.COMMERCE_TAX_EXTENSION_TESTER)}function f(){var e=m.getABTestVariant(u.TEST_NAME,u.DEFAULT_VARIANT),t=e.variant;return t===u.ACTIVE_VARIANT}function v(){var e=m.getABTestVariant(d.TEST_NAME,d.DEFAULT_VARIANT),t=e.variant;return p()&&t===d.ACTIVE_VARIANT}},"./src/main/webapp/universal/src/shared/constants/UploadMimeTypes.js":function(e,t,n){"use strict";var a=["image/jpeg","image/png","image/gif","image/x-icon","image/vnd.microsoft.icon"];var r=["image/jpeg","image/png"];e.exports={IMAGE_MIME_TYPES:a,ITUNES_COVER_MIME_TYPES:r}},"./src/main/webapp/universal/src/shared/i18n/configurations/color-palette.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");n("./src/main/webapp/universal/src/shared/i18n/configurations/core-components.js");var r=n("./src/main/webapp/frontend/packages/brand/color-palette/lib/i18n/index.js");var o=a(n("./src/main/webapp/universal/src/shared/i18n/index.ts"));(0,r.setI18nInstance)(o.default)},"./src/main/webapp/universal/src/shared/utils/SystemCollectionUtils.ts":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./common/temp/node_modules/lodash/get.js"));var o=function(){var t=(0,r.default)(window,"Static.SQUARESPACE_CONTEXT.template.collectionConfigs.products.systemCollectionVersion",null);return{isProductsCollectionV2:function e(){return"2.0"===t}}}();t.default=o;e.exports=t.default},"./src/main/webapp/universal/src/shared/utils/Tweaks/TweakAnalytics.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.fireProductSaveTweakEvents=t.fireSaveEvents=t.getAnalyticsDataForChangedTweakValues=t.dataFromDefinition=t.fireDebounced=t.fire=t.events=void 0;var r=a(n("./common/temp/node_modules/@babel/runtime/helpers/defineProperty.js"));var i=a(n("./common/temp/node_modules/lodash/map.js"));var o=a(n("./common/temp/node_modules/lodash/isArray.js"));var s=a(n("./common/temp/node_modules/lodash/debounce.js"));var l=a(n("./common/temp/node_modules/lodash/compact.js"));var u=a(n("./src/main/webapp/universal/src/shared/utils/analytics/trackInternal.ts"));var d=a(n("./src/main/webapp/universal/src/shared/utils/TemplateVersionUtils.js"));var c=a(n("./src/main/webapp/universal/src/shared/utils/Tweaks/constants/TweakTypeNames.js"));var m=n("./src/main/webapp/universal/src/shared/utils/Tweaks/SiteAestheticsUtils.js");var p=a(n("./src/main/webapp/universal/src/shared/utils/Tweaks/getChangedTweakValues.js"));var f=n("./src/main/webapp/universal/src/shared/utils/CMSV7Events/frameToolbar.ts");function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));n.push.apply(n,a)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),true).forEach(function(e){(0,r.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var h={RESET:"tweak_reset",SAVE:"tweak_save",DISCARD:"tweak_discard",MODAL_OPEN:"tweak_modal_open",UPDATE:"tweak_update",FILTER_BY_CLICK:"tweak_filter_by_click",FILTER_BY_SHOW_ALL:"tweak_filter_by_show_all",STYLE_PACK_IMPORT:"tweak_style_pack_import",STYLE_PACK_EXPORT:"tweak_style_pack_export"};t.events=h;var g=500;var y={};var S=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n&&"string"===typeof n&&(a=b({},a,{tweak_page_type:n}));(0,u.default)(t,a)};t.fire=S;var _=function e(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];y[t]||(y[t]=(0,s.default)(function(){S.apply(void 0,a);delete y[t]},g));y[t]()};t.fireDebounced=_;var j=function e(t,n){if(!t)return null;return{tweak_label:t.label,tweak_name:t.variableName,tweak_category:t.category,tweak_type:t.type,tweak_value:n,tweak_is_draggable:(0,o.default)(t.properties)&&t.properties.length>0}};t.dataFromDefinition=j;var E=function e(t){var n=t.tweakDefinitions,a=t.tweakValuesSaved,r=t.tweakValuesCurrent;var o=(0,p.default)({prev:a,next:r});var s=(0,l.default)((0,i.default)(o,function(e,t){return j(n[t],e)}));return s};t.getAnalyticsDataForChangedTweakValues=E;var w=function e(t){var r=t.pageType,n=t.tweakApi,o=t.tweakDefinitions,s=t.tweakValuesSaved,i=t.tweakValuesCurrent;window.requestIdleCallback(function(){try{var e=E({tweakDefinitions:o,tweakValuesSaved:s,tweakValuesCurrent:i});var a=new Set;e.forEach(function(e){var t=e.tweak_type,n=e.tweak_name;if(d.default.isSevenOne()){if(t===c.default.color)return;if((0,m.isFontVariableName)(n))return}a.add(n);S(h.SAVE,r,e)});null===n||void 0===n?void 0:n.trackSaveChanges(Array.from(a))}catch(e){}},{timeout:1e3})};t.fireSaveEvents=w;var T=function e(t){var r=t.tweakValuesSaved,o=t.tweakValuesCurrent,s=t.indirectObjectType;window.requestIdleCallback(function(){try{var e=(0,p.default)({prev:r,next:o});for(var t=0,n=Object.keys(e);t<n.length;t++){var a=n[t];(0,f.frameToolbarSaveTweak)(a,s)}}catch(e){}})};t.fireProductSaveTweakEvents=T},"./src/main/webapp/universal/src/shared/utils/Tweaks/constants/TweakTypeNames.js":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=a(n("./src/main/webapp/universal/src/shared/utils/enum.js"));var o=(0,r.default)("fontFamily","fontStyle","fontWeight","value","dropdown","checkbox","color");t.default=o;e.exports=t.default},"./src/main/webapp/universal/src/shared/utils/commerce/WaitlistUtils.ts":function(e,t,n){"use strict";var a=n("./common/temp/node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:true});t.shouldShowCommerceWaitlists=t.getInStockNormalizedVariantIds=t.getInStockVariantIds=void 0;var r=n("./src/main/webapp/frontend/packages/universal-flags/lib/index.js");var o=a(n("./src/main/webapp/frontend/packages/enums/Flag.js"));var s=a(n("./src/main/webapp/universal/src/shared/utils/SystemCollectionUtils.ts"));var i=a(n("./src/main/webapp/universal/src/shared/utils/TemplateVersionUtils.js"));var l=a(n("./src/main/webapp/frontend/packages/enums/TemplateVersion.js"));var u=function e(t){if(!t)return[];return t.filter(function(e){return e.qtyInStock||e.unlimited}).map(function(e){return e.id})};t.getInStockVariantIds=u;var d=function e(t){if(!t)return[];return t.filter(function(e){return e.stock.quantity>0||e.stock.unlimited}).map(function(e){return e.id})};t.getInStockNormalizedVariantIds=d;var c=function e(){return(s.default.isProductsCollectionV2()||i.default.isVersion(l.default.SEVEN_ONE))&&!r.legacyV6Flags.isFeatureEnabled(o.default.COMMERCE_DISABLE_WAITLIST)};t.shouldShowCommerceWaitlists=c}}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/frame-toolbar-desktop-0e570eaaf10fd40f25ad6-min.en-US.js.map